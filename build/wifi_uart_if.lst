ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"wifi_uart_if.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._write,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.global	_write
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	_write:
  26              	.LVL0:
  27              	.LFB68:
  28              		.file 1 "user/wifi_uart_if/wifi_uart_if.c"
   1:user/wifi_uart_if/wifi_uart_if.c **** #include <stdio.h>
   2:user/wifi_uart_if/wifi_uart_if.c **** #include "main.h"
   3:user/wifi_uart_if/wifi_uart_if.c **** #if (WIFI_MODULE == WIFI_ESP8266)
   4:user/wifi_uart_if/wifi_uart_if.c **** #include "esp8266_at.h"
   5:user/wifi_uart_if/wifi_uart_if.c **** #elif (WIFI_MODULE == WIFI_EMW3060)
   6:user/wifi_uart_if/wifi_uart_if.c **** #include "emw3060_at.h"
   7:user/wifi_uart_if/wifi_uart_if.c **** #endif
   8:user/wifi_uart_if/wifi_uart_if.c **** #include "usart.h"
   9:user/wifi_uart_if/wifi_uart_if.c **** 
  10:user/wifi_uart_if/wifi_uart_if.c **** #define RECEIVE_LENGTH 100
  11:user/wifi_uart_if/wifi_uart_if.c **** #define USART_DMA_SENDING 1
  12:user/wifi_uart_if/wifi_uart_if.c **** #define USART_DMA_SENDOVER 0
  13:user/wifi_uart_if/wifi_uart_if.c **** 
  14:user/wifi_uart_if/wifi_uart_if.c **** struct UsartReceiveType {
  15:user/wifi_uart_if/wifi_uart_if.c ****     uint8_t receiveFlag : 1;
  16:user/wifi_uart_if/wifi_uart_if.c ****     uint8_t sendFlag : 1;
  17:user/wifi_uart_if/wifi_uart_if.c ****     uint16_t rxLength;
  18:user/wifi_uart_if/wifi_uart_if.c ****     uint8_t buffer[RECEIVE_LENGTH];
  19:user/wifi_uart_if/wifi_uart_if.c **** };
  20:user/wifi_uart_if/wifi_uart_if.c **** struct UsartReceiveType g_usartType;
  21:user/wifi_uart_if/wifi_uart_if.c **** 
  22:user/wifi_uart_if/wifi_uart_if.c **** #ifdef __GNUC__
  23:user/wifi_uart_if/wifi_uart_if.c **** 
  24:user/wifi_uart_if/wifi_uart_if.c **** int _write(int fd, char *ptr, int len)
  25:user/wifi_uart_if/wifi_uart_if.c **** {
  29              		.loc 1 25 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  26:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit(&huart1, (uint8_t *)ptr, len, 0xFFFF);
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 2


  33              		.loc 1 26 5 view .LVU1
  25:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit(&huart1, (uint8_t *)ptr, len, 0xFFFF);
  34              		.loc 1 25 1 is_stmt 0 view .LVU2
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  25:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit(&huart1, (uint8_t *)ptr, len, 0xFFFF);
  40              		.loc 1 25 1 view .LVU3
  41 0002 1446     		mov	r4, r2
  42              		.loc 1 26 5 view .LVU4
  43 0004 4FF6FF73 		movw	r3, #65535
  44 0008 92B2     		uxth	r2, r2
  45              	.LVL1:
  46              		.loc 1 26 5 view .LVU5
  47 000a 0248     		ldr	r0, .L4
  48              	.LVL2:
  49              		.loc 1 26 5 view .LVU6
  50 000c FFF7FEFF 		bl	HAL_UART_Transmit
  51              	.LVL3:
  27:user/wifi_uart_if/wifi_uart_if.c ****     return len;
  52              		.loc 1 27 5 is_stmt 1 view .LVU7
  28:user/wifi_uart_if/wifi_uart_if.c **** }
  53              		.loc 1 28 1 is_stmt 0 view .LVU8
  54 0010 2046     		mov	r0, r4
  55 0012 10BD     		pop	{r4, pc}
  56              	.LVL4:
  57              	.L5:
  58              		.loc 1 28 1 view .LVU9
  59              		.align	2
  60              	.L4:
  61 0014 00000000 		.word	huart1
  62              		.cfi_endproc
  63              	.LFE68:
  65              		.section	.text.WIFI_ReceiveDmaInit,"ax",%progbits
  66              		.align	1
  67              		.p2align 2,,3
  68              		.global	WIFI_ReceiveDmaInit
  69              		.syntax unified
  70              		.thumb
  71              		.thumb_func
  73              	WIFI_ReceiveDmaInit:
  74              	.LFB69:
  29:user/wifi_uart_if/wifi_uart_if.c **** 
  30:user/wifi_uart_if/wifi_uart_if.c **** #else
  31:user/wifi_uart_if/wifi_uart_if.c **** 
  32:user/wifi_uart_if/wifi_uart_if.c **** #define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
  33:user/wifi_uart_if/wifi_uart_if.c **** 
  34:user/wifi_uart_if/wifi_uart_if.c **** PUTCHAR_PROTOTYPE
  35:user/wifi_uart_if/wifi_uart_if.c **** {
  36:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit(&huart1, (uint8_t *)&ch, 1, 0xFFFF);
  37:user/wifi_uart_if/wifi_uart_if.c ****     return ch;
  38:user/wifi_uart_if/wifi_uart_if.c **** }
  39:user/wifi_uart_if/wifi_uart_if.c **** 
  40:user/wifi_uart_if/wifi_uart_if.c **** #endif /* __GNUC__ */
  41:user/wifi_uart_if/wifi_uart_if.c **** 
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 3


  42:user/wifi_uart_if/wifi_uart_if.c **** void WIFI_ReceiveDmaInit(void)
  43:user/wifi_uart_if/wifi_uart_if.c **** {
  75              		.loc 1 43 1 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  44:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
  79              		.loc 1 44 5 view .LVU11
  43:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
  80              		.loc 1 43 1 is_stmt 0 view .LVU12
  81 0000 10B5     		push	{r4, lr}
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 4, -8
  85              		.cfi_offset 14, -4
  86              		.loc 1 44 5 view .LVU13
  87 0002 064C     		ldr	r4, .L8
  88 0004 6422     		movs	r2, #100
  89 0006 2046     		mov	r0, r4
  90 0008 0549     		ldr	r1, .L8+4
  91 000a FFF7FEFF 		bl	HAL_UART_Receive_DMA
  92              	.LVL5:
  45:user/wifi_uart_if/wifi_uart_if.c ****     __HAL_UART_ENABLE_IT(&huart1, UART_IT_IDLE);
  93              		.loc 1 45 5 is_stmt 1 view .LVU14
  94 000e 2268     		ldr	r2, [r4]
  95 0010 D368     		ldr	r3, [r2, #12]
  96 0012 43F01003 		orr	r3, r3, #16
  97 0016 D360     		str	r3, [r2, #12]
  46:user/wifi_uart_if/wifi_uart_if.c **** }
  98              		.loc 1 46 1 is_stmt 0 view .LVU15
  99 0018 10BD     		pop	{r4, pc}
 100              	.L9:
 101 001a 00BF     		.align	2
 102              	.L8:
 103 001c 00000000 		.word	huart1
 104 0020 04000000 		.word	.LANCHOR0+4
 105              		.cfi_endproc
 106              	.LFE69:
 108              		.section	.text.WIFI_SendDataDMA,"ax",%progbits
 109              		.align	1
 110              		.p2align 2,,3
 111              		.global	WIFI_SendDataDMA
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 116              	WIFI_SendDataDMA:
 117              	.LVL6:
 118              	.LFB70:
  47:user/wifi_uart_if/wifi_uart_if.c **** 
  48:user/wifi_uart_if/wifi_uart_if.c **** void WIFI_SendDataDMA(uint8_t *pdata, uint16_t Length)
  49:user/wifi_uart_if/wifi_uart_if.c **** {
 119              		.loc 1 49 1 is_stmt 1 view -0
 120              		.cfi_startproc
 121              		@ args = 0, pretend = 0, frame = 0
 122              		@ frame_needed = 0, uses_anonymous_args = 0
 123              		@ link register save eliminated.
  50:user/wifi_uart_if/wifi_uart_if.c ****     while (g_usartType.sendFlag == USART_DMA_SENDING);
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 4


 124              		.loc 1 50 5 view .LVU17
  49:user/wifi_uart_if/wifi_uart_if.c ****     while (g_usartType.sendFlag == USART_DMA_SENDING);
 125              		.loc 1 49 1 is_stmt 0 view .LVU18
 126 0000 10B4     		push	{r4}
 127              	.LCFI2:
 128              		.cfi_def_cfa_offset 4
 129              		.cfi_offset 4, -4
 130              		.loc 1 50 33 view .LVU19
 131 0002 074C     		ldr	r4, .L14
 132 0004 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 133 0006 9A07     		lsls	r2, r3, #30
 134 0008 00D5     		bpl	.L11
 135              	.L12:
 136              		.loc 1 50 54 is_stmt 1 discriminator 1 view .LVU20
 137              		.loc 1 50 11 discriminator 1 view .LVU21
 138              		.loc 1 50 54 discriminator 1 view .LVU22
 139              		.loc 1 50 11 discriminator 1 view .LVU23
 140 000a FEE7     		b	.L12
 141              	.L11:
  51:user/wifi_uart_if/wifi_uart_if.c ****     g_usartType.sendFlag = USART_DMA_SENDING;
 142              		.loc 1 51 26 is_stmt 0 view .LVU24
 143 000c 43F00203 		orr	r3, r3, #2
 144 0010 0A46     		mov	r2, r1
  50:user/wifi_uart_if/wifi_uart_if.c ****     while (g_usartType.sendFlag == USART_DMA_SENDING);
 145              		.loc 1 50 54 is_stmt 1 view .LVU25
  50:user/wifi_uart_if/wifi_uart_if.c ****     while (g_usartType.sendFlag == USART_DMA_SENDING);
 146              		.loc 1 50 11 view .LVU26
 147              		.loc 1 51 5 view .LVU27
 148              		.loc 1 51 26 is_stmt 0 view .LVU28
 149 0012 2370     		strb	r3, [r4]
  52:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit_DMA(&huart1, pdata, Length);
 150              		.loc 1 52 5 is_stmt 1 view .LVU29
 151 0014 0146     		mov	r1, r0
 152              	.LVL7:
  53:user/wifi_uart_if/wifi_uart_if.c **** }
 153              		.loc 1 53 1 is_stmt 0 view .LVU30
 154 0016 10BC     		pop	{r4}
 155              	.LCFI3:
 156              		.cfi_restore 4
 157              		.cfi_def_cfa_offset 0
  52:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit_DMA(&huart1, pdata, Length);
 158              		.loc 1 52 5 view .LVU31
 159 0018 0248     		ldr	r0, .L14+4
 160              	.LVL8:
  52:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit_DMA(&huart1, pdata, Length);
 161              		.loc 1 52 5 view .LVU32
 162 001a FFF7FEBF 		b	HAL_UART_Transmit_DMA
 163              	.LVL9:
 164              	.L15:
  52:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_Transmit_DMA(&huart1, pdata, Length);
 165              		.loc 1 52 5 view .LVU33
 166 001e 00BF     		.align	2
 167              	.L14:
 168 0020 00000000 		.word	.LANCHOR0
 169 0024 00000000 		.word	huart1
 170              		.cfi_endproc
 171              	.LFE70:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 5


 173              		.section	.text.WIFI_ReceiveIDLE,"ax",%progbits
 174              		.align	1
 175              		.p2align 2,,3
 176              		.global	WIFI_ReceiveIDLE
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
 181              	WIFI_ReceiveIDLE:
 182              	.LVL10:
 183              	.LFB71:
  54:user/wifi_uart_if/wifi_uart_if.c **** 
  55:user/wifi_uart_if/wifi_uart_if.c **** void WIFI_ReceiveIDLE(UART_HandleTypeDef *huart)
  56:user/wifi_uart_if/wifi_uart_if.c **** {
 184              		.loc 1 56 1 is_stmt 1 view -0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 8
 187              		@ frame_needed = 0, uses_anonymous_args = 0
  57:user/wifi_uart_if/wifi_uart_if.c ****     uint32_t temp;
 188              		.loc 1 57 5 view .LVU35
  58:user/wifi_uart_if/wifi_uart_if.c **** 
  59:user/wifi_uart_if/wifi_uart_if.c ****     if (__HAL_UART_GET_FLAG(huart, UART_FLAG_IDLE) == RESET) {
 189              		.loc 1 59 5 view .LVU36
 190              		.loc 1 59 9 is_stmt 0 view .LVU37
 191 0000 0368     		ldr	r3, [r0]
 192 0002 1A68     		ldr	r2, [r3]
 193              		.loc 1 59 8 view .LVU38
 194 0004 D206     		lsls	r2, r2, #27
 195 0006 00D4     		bmi	.L24
 196 0008 7047     		bx	lr
 197              	.L24:
 198              	.LBB2:
  60:user/wifi_uart_if/wifi_uart_if.c ****         return;
  61:user/wifi_uart_if/wifi_uart_if.c ****     }
  62:user/wifi_uart_if/wifi_uart_if.c **** 
  63:user/wifi_uart_if/wifi_uart_if.c ****     __HAL_UART_CLEAR_IDLEFLAG(huart);
 199              		.loc 1 63 5 view .LVU39
 200 000a 0022     		movs	r2, #0
 201              	.LBE2:
  56:user/wifi_uart_if/wifi_uart_if.c ****     uint32_t temp;
 202              		.loc 1 56 1 view .LVU40
 203 000c 10B5     		push	{r4, lr}
 204              	.LCFI4:
 205              		.cfi_def_cfa_offset 8
 206              		.cfi_offset 4, -8
 207              		.cfi_offset 14, -4
 208 000e 0446     		mov	r4, r0
 209              		.loc 1 63 5 is_stmt 1 view .LVU41
 210              	.LBB3:
 211              		.loc 1 63 5 view .LVU42
 212              	.LBE3:
  56:user/wifi_uart_if/wifi_uart_if.c ****     uint32_t temp;
 213              		.loc 1 56 1 is_stmt 0 view .LVU43
 214 0010 82B0     		sub	sp, sp, #8
 215              	.LCFI5:
 216              		.cfi_def_cfa_offset 16
 217              	.LBB4:
 218              		.loc 1 63 5 view .LVU44
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 6


 219 0012 0192     		str	r2, [sp, #4]
 220              		.loc 1 63 5 is_stmt 1 view .LVU45
 221 0014 1A68     		ldr	r2, [r3]
 222 0016 0192     		str	r2, [sp, #4]
 223              		.loc 1 63 5 view .LVU46
 224 0018 5B68     		ldr	r3, [r3, #4]
 225 001a 0193     		str	r3, [sp, #4]
 226              		.loc 1 63 5 view .LVU47
 227 001c 019B     		ldr	r3, [sp, #4]
 228              	.LBE4:
 229              		.loc 1 63 5 view .LVU48
  64:user/wifi_uart_if/wifi_uart_if.c ****     HAL_UART_DMAStop(huart);
 230              		.loc 1 64 5 view .LVU49
 231 001e FFF7FEFF 		bl	HAL_UART_DMAStop
 232              	.LVL11:
  65:user/wifi_uart_if/wifi_uart_if.c ****     if (huart->Instance == huart1.Instance) {
 233              		.loc 1 65 5 view .LVU50
 234              		.loc 1 65 34 is_stmt 0 view .LVU51
 235 0022 0C48     		ldr	r0, .L26
 236              		.loc 1 65 8 view .LVU52
 237 0024 2268     		ldr	r2, [r4]
 238 0026 0368     		ldr	r3, [r0]
 239 0028 9A42     		cmp	r2, r3
 240 002a 01D0     		beq	.L25
  66:user/wifi_uart_if/wifi_uart_if.c ****         temp = huart1.hdmarx->Instance->CNDTR;
  67:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.rxLength = RECEIVE_LENGTH - temp;
  68:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 1;
  69:user/wifi_uart_if/wifi_uart_if.c ****         HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
  70:user/wifi_uart_if/wifi_uart_if.c ****     }
  71:user/wifi_uart_if/wifi_uart_if.c **** }
 241              		.loc 1 71 1 view .LVU53
 242 002c 02B0     		add	sp, sp, #8
 243              	.LCFI6:
 244              		.cfi_remember_state
 245              		.cfi_def_cfa_offset 8
 246              		@ sp needed
 247 002e 10BD     		pop	{r4, pc}
 248              	.LVL12:
 249              	.L25:
 250              	.LCFI7:
 251              		.cfi_restore_state
  66:user/wifi_uart_if/wifi_uart_if.c ****         temp = huart1.hdmarx->Instance->CNDTR;
 252              		.loc 1 66 9 is_stmt 1 view .LVU54
  66:user/wifi_uart_if/wifi_uart_if.c ****         temp = huart1.hdmarx->Instance->CNDTR;
 253              		.loc 1 66 29 is_stmt 0 view .LVU55
 254 0030 836B     		ldr	r3, [r0, #56]
  67:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 1;
 255              		.loc 1 67 30 view .LVU56
 256 0032 0949     		ldr	r1, .L26+4
  66:user/wifi_uart_if/wifi_uart_if.c ****         temp = huart1.hdmarx->Instance->CNDTR;
 257              		.loc 1 66 29 view .LVU57
 258 0034 1A68     		ldr	r2, [r3]
  68:user/wifi_uart_if/wifi_uart_if.c ****         HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
 259              		.loc 1 68 33 view .LVU58
 260 0036 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
  66:user/wifi_uart_if/wifi_uart_if.c ****         temp = huart1.hdmarx->Instance->CNDTR;
 261              		.loc 1 66 14 view .LVU59
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 7


 262 0038 5268     		ldr	r2, [r2, #4]
 263              	.LVL13:
  67:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 1;
 264              		.loc 1 67 9 is_stmt 1 view .LVU60
  68:user/wifi_uart_if/wifi_uart_if.c ****         HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
 265              		.loc 1 68 33 is_stmt 0 view .LVU61
 266 003a 43F00103 		orr	r3, r3, #1
  67:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 1;
 267              		.loc 1 67 47 view .LVU62
 268 003e C2F16402 		rsb	r2, r2, #100
 269              	.LVL14:
  67:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 1;
 270              		.loc 1 67 30 view .LVU63
 271 0042 4A80     		strh	r2, [r1, #2]	@ movhi
  68:user/wifi_uart_if/wifi_uart_if.c ****         HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
 272              		.loc 1 68 9 is_stmt 1 view .LVU64
  69:user/wifi_uart_if/wifi_uart_if.c ****     }
 273              		.loc 1 69 9 is_stmt 0 view .LVU65
 274 0044 6422     		movs	r2, #100
  68:user/wifi_uart_if/wifi_uart_if.c ****         HAL_UART_Receive_DMA(&huart1, g_usartType.buffer, RECEIVE_LENGTH);
 275              		.loc 1 68 33 view .LVU66
 276 0046 01F8043B 		strb	r3, [r1], #4
  69:user/wifi_uart_if/wifi_uart_if.c ****     }
 277              		.loc 1 69 9 is_stmt 1 view .LVU67
 278              		.loc 1 71 1 is_stmt 0 view .LVU68
 279 004a 02B0     		add	sp, sp, #8
 280              	.LCFI8:
 281              		.cfi_def_cfa_offset 8
 282              		@ sp needed
 283 004c BDE81040 		pop	{r4, lr}
 284              	.LCFI9:
 285              		.cfi_restore 14
 286              		.cfi_restore 4
 287              		.cfi_def_cfa_offset 0
 288              	.LVL15:
  69:user/wifi_uart_if/wifi_uart_if.c ****     }
 289              		.loc 1 69 9 view .LVU69
 290 0050 FFF7FEBF 		b	HAL_UART_Receive_DMA
 291              	.LVL16:
 292              	.L27:
 293              		.align	2
 294              	.L26:
 295 0054 00000000 		.word	huart1
 296 0058 00000000 		.word	.LANCHOR0
 297              		.cfi_endproc
 298              	.LFE71:
 300              		.section	.text.WIFI_HandlerUartData,"ax",%progbits
 301              		.align	1
 302              		.p2align 2,,3
 303              		.global	WIFI_HandlerUartData
 304              		.syntax unified
 305              		.thumb
 306              		.thumb_func
 308              	WIFI_HandlerUartData:
 309              	.LFB72:
  72:user/wifi_uart_if/wifi_uart_if.c **** 
  73:user/wifi_uart_if/wifi_uart_if.c **** void WIFI_HandlerUartData(void)
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 8


  74:user/wifi_uart_if/wifi_uart_if.c **** {
 310              		.loc 1 74 1 is_stmt 1 view -0
 311              		.cfi_startproc
 312              		@ args = 0, pretend = 0, frame = 0
 313              		@ frame_needed = 0, uses_anonymous_args = 0
 314              		@ link register save eliminated.
  75:user/wifi_uart_if/wifi_uart_if.c ****     if (g_usartType.receiveFlag) {
 315              		.loc 1 75 5 view .LVU71
 316              		.loc 1 75 9 is_stmt 0 view .LVU72
 317 0000 0548     		ldr	r0, .L31
 318 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 319              		.loc 1 75 8 view .LVU73
 320 0004 DA07     		lsls	r2, r3, #31
 321 0006 00D4     		bmi	.L30
  76:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 0;
  77:user/wifi_uart_if/wifi_uart_if.c ****         WIFI_ReceiveProcess(g_usartType.buffer);
  78:user/wifi_uart_if/wifi_uart_if.c ****     }
  79:user/wifi_uart_if/wifi_uart_if.c **** }
 322              		.loc 1 79 1 view .LVU74
 323 0008 7047     		bx	lr
 324              	.L30:
  76:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 0;
 325              		.loc 1 76 9 is_stmt 1 view .LVU75
  76:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.receiveFlag = 0;
 326              		.loc 1 76 33 is_stmt 0 view .LVU76
 327 000a 6FF30003 		bfc	r3, #0, #1
 328 000e 00F8043B 		strb	r3, [r0], #4
  77:user/wifi_uart_if/wifi_uart_if.c ****     }
 329              		.loc 1 77 9 is_stmt 1 view .LVU77
 330 0012 FFF7FEBF 		b	WIFI_ReceiveProcess
 331              	.LVL17:
 332              	.L32:
 333 0016 00BF     		.align	2
 334              	.L31:
 335 0018 00000000 		.word	.LANCHOR0
 336              		.cfi_endproc
 337              	.LFE72:
 339              		.section	.text.WIFI_UART_TxCpltCallback,"ax",%progbits
 340              		.align	1
 341              		.p2align 2,,3
 342              		.global	WIFI_UART_TxCpltCallback
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 347              	WIFI_UART_TxCpltCallback:
 348              	.LVL18:
 349              	.LFB73:
  80:user/wifi_uart_if/wifi_uart_if.c **** 
  81:user/wifi_uart_if/wifi_uart_if.c **** void WIFI_UART_TxCpltCallback(UART_HandleTypeDef *huart)
  82:user/wifi_uart_if/wifi_uart_if.c **** {
 350              		.loc 1 82 1 view -0
 351              		.cfi_startproc
 352              		@ args = 0, pretend = 0, frame = 0
 353              		@ frame_needed = 0, uses_anonymous_args = 0
 354              		@ link register save eliminated.
  83:user/wifi_uart_if/wifi_uart_if.c ****     __HAL_DMA_DISABLE(huart->hdmatx);
 355              		.loc 1 83 5 view .LVU79
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 9


  84:user/wifi_uart_if/wifi_uart_if.c ****     if (huart->Instance == huart1.Instance) {
 356              		.loc 1 84 34 is_stmt 0 view .LVU80
 357 0000 084B     		ldr	r3, .L36
 358              		.loc 1 84 8 view .LVU81
 359 0002 1968     		ldr	r1, [r3]
  83:user/wifi_uart_if/wifi_uart_if.c ****     __HAL_DMA_DISABLE(huart->hdmatx);
 360              		.loc 1 83 5 view .LVU82
 361 0004 436B     		ldr	r3, [r0, #52]
 362              		.loc 1 84 8 view .LVU83
 363 0006 0068     		ldr	r0, [r0]
 364              	.LVL19:
  83:user/wifi_uart_if/wifi_uart_if.c ****     __HAL_DMA_DISABLE(huart->hdmatx);
 365              		.loc 1 83 5 view .LVU84
 366 0008 1A68     		ldr	r2, [r3]
 367              		.loc 1 84 8 view .LVU85
 368 000a 8842     		cmp	r0, r1
  83:user/wifi_uart_if/wifi_uart_if.c ****     __HAL_DMA_DISABLE(huart->hdmatx);
 369              		.loc 1 83 5 view .LVU86
 370 000c 1368     		ldr	r3, [r2]
 371 000e 23F00103 		bic	r3, r3, #1
 372 0012 1360     		str	r3, [r2]
 373              		.loc 1 84 5 is_stmt 1 view .LVU87
 374              		.loc 1 84 8 is_stmt 0 view .LVU88
 375 0014 00D0     		beq	.L35
  85:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.sendFlag = USART_DMA_SENDOVER;
  86:user/wifi_uart_if/wifi_uart_if.c ****     }
  87:user/wifi_uart_if/wifi_uart_if.c **** }
 376              		.loc 1 87 1 view .LVU89
 377 0016 7047     		bx	lr
 378              	.L35:
  85:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.sendFlag = USART_DMA_SENDOVER;
 379              		.loc 1 85 9 is_stmt 1 view .LVU90
  85:user/wifi_uart_if/wifi_uart_if.c ****         g_usartType.sendFlag = USART_DMA_SENDOVER;
 380              		.loc 1 85 30 is_stmt 0 view .LVU91
 381 0018 034B     		ldr	r3, .L36+4
 382 001a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 383 001c 6FF34102 		bfc	r2, #1, #1
 384 0020 1A70     		strb	r2, [r3]
 385              		.loc 1 87 1 view .LVU92
 386 0022 7047     		bx	lr
 387              	.L37:
 388              		.align	2
 389              	.L36:
 390 0024 00000000 		.word	huart1
 391 0028 00000000 		.word	.LANCHOR0
 392              		.cfi_endproc
 393              	.LFE73:
 395              		.section	.text.WIFI_UART_RxCpltCallback,"ax",%progbits
 396              		.align	1
 397              		.p2align 2,,3
 398              		.global	WIFI_UART_RxCpltCallback
 399              		.syntax unified
 400              		.thumb
 401              		.thumb_func
 403              	WIFI_UART_RxCpltCallback:
 404              	.LVL20:
 405              	.LFB74:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 10


  88:user/wifi_uart_if/wifi_uart_if.c **** 
  89:user/wifi_uart_if/wifi_uart_if.c **** void WIFI_UART_RxCpltCallback(UART_HandleTypeDef *huart)
  90:user/wifi_uart_if/wifi_uart_if.c **** {
 406              		.loc 1 90 1 is_stmt 1 view -0
 407              		.cfi_startproc
 408              		@ args = 0, pretend = 0, frame = 0
 409              		@ frame_needed = 0, uses_anonymous_args = 0
 410              		@ link register save eliminated.
  91:user/wifi_uart_if/wifi_uart_if.c **** 
  92:user/wifi_uart_if/wifi_uart_if.c **** }...
 411              		.loc 1 92 1 view .LVU94
 412 0000 7047     		bx	lr
 413              		.cfi_endproc
 414              	.LFE74:
 416              		.global	g_usartType
 417 0002 00BF     		.section	.bss.g_usartType,"aw",%nobits
 418              		.align	2
 419              		.set	.LANCHOR0,. + 0
 422              	g_usartType:
 423 0000 00000000 		.space	104
 423      00000000 
 423      00000000 
 423      00000000 
 423      00000000 
 424              		.text
 425              	.Letext0:
 426              		.file 2 "d:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 427              		.file 3 "d:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 428              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 429              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 430              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 431              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 432              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 433              		.file 9 "Core/Inc/usart.h"
 434              		.file 10 "user/esp8266/esp8266_at.h"
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 wifi_uart_if.c
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:18     .text._write:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:25     .text._write:00000000 _write
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:61     .text._write:00000014 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:66     .text.WIFI_ReceiveDmaInit:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:73     .text.WIFI_ReceiveDmaInit:00000000 WIFI_ReceiveDmaInit
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:103    .text.WIFI_ReceiveDmaInit:0000001c $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:109    .text.WIFI_SendDataDMA:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:116    .text.WIFI_SendDataDMA:00000000 WIFI_SendDataDMA
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:168    .text.WIFI_SendDataDMA:00000020 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:174    .text.WIFI_ReceiveIDLE:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:181    .text.WIFI_ReceiveIDLE:00000000 WIFI_ReceiveIDLE
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:295    .text.WIFI_ReceiveIDLE:00000054 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:301    .text.WIFI_HandlerUartData:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:308    .text.WIFI_HandlerUartData:00000000 WIFI_HandlerUartData
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:335    .text.WIFI_HandlerUartData:00000018 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:340    .text.WIFI_UART_TxCpltCallback:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:347    .text.WIFI_UART_TxCpltCallback:00000000 WIFI_UART_TxCpltCallback
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:390    .text.WIFI_UART_TxCpltCallback:00000024 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:396    .text.WIFI_UART_RxCpltCallback:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:403    .text.WIFI_UART_RxCpltCallback:00000000 WIFI_UART_RxCpltCallback
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:422    .bss.g_usartType:00000000 g_usartType
C:\Users\WENHUA~1\AppData\Local\Temp\ccnhruT1.s:418    .bss.g_usartType:00000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart1
HAL_UART_Receive_DMA
HAL_UART_Transmit_DMA
HAL_UART_DMAStop
WIFI_ReceiveProcess
