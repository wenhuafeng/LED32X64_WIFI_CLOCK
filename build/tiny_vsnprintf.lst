ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tiny_vsnprintf.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.tiny_vsnprintf_like.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 3C4E554C 		.ascii	"<NULL>\000"
  20      4C3E00
  21 0007 00       		.align	2
  22              	.LC1:
  23 0008 30313233 		.ascii	"0123456789abcdefghijklmnopqrstuvwxyz\000"
  23      34353637 
  23      38396162 
  23      63646566 
  23      6768696A 
  24 002d 000000   		.align	2
  25              	.LC2:
  26 0030 30313233 		.ascii	"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\000"
  26      34353637 
  26      38394142 
  26      43444546 
  26      4748494A 
  27              		.section	.text.tiny_vsnprintf_like,"ax",%progbits
  28              		.align	1
  29              		.p2align 2,,3
  30              		.global	tiny_vsnprintf_like
  31              		.syntax unified
  32              		.thumb
  33              		.thumb_func
  35              	tiny_vsnprintf_like:
  36              	.LVL0:
  37              	.LFB2:
  38              		.file 1 "user/trace/tiny_vsnprintf.c"
   1:user/trace/tiny_vsnprintf.c **** #include "tiny_vsnprintf.h"
   2:user/trace/tiny_vsnprintf.c **** 
   3:user/trace/tiny_vsnprintf.c **** #define TINY_PRINTF
   4:user/trace/tiny_vsnprintf.c **** 
   5:user/trace/tiny_vsnprintf.c **** #define ZEROPAD    (1<<0)  /* Pad with zero */
   6:user/trace/tiny_vsnprintf.c **** #define SIGN      (1<<1)  /* Unsigned/signed long */
   7:user/trace/tiny_vsnprintf.c **** #define UPPERCASE   (1<<6)  /* 'ABCDEF' */
   8:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
   9:user/trace/tiny_vsnprintf.c **** #else
  10:user/trace/tiny_vsnprintf.c **** #define PLUS      (1<<2)  /* Show plus */
  11:user/trace/tiny_vsnprintf.c **** #define HEX_PREP   (1<<5)  /* 0x */
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 2


  12:user/trace/tiny_vsnprintf.c **** #define SPACE     (1<<3)  /* Spacer */
  13:user/trace/tiny_vsnprintf.c **** #define LEFT      (1<<4)  /* Left justified */
  14:user/trace/tiny_vsnprintf.c **** #endif
  15:user/trace/tiny_vsnprintf.c **** 
  16:user/trace/tiny_vsnprintf.c **** #define is_digit(c) ((c) >= '0' && (c) <= '9')
  17:user/trace/tiny_vsnprintf.c **** 
  18:user/trace/tiny_vsnprintf.c **** static char *lower_digits = "0123456789abcdefghijklmnopqrstuvwxyz";
  19:user/trace/tiny_vsnprintf.c **** static char *upper_digits = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  20:user/trace/tiny_vsnprintf.c **** 
  21:user/trace/tiny_vsnprintf.c **** /* Functions Definition */
  22:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
  23:user/trace/tiny_vsnprintf.c **** #else
  24:user/trace/tiny_vsnprintf.c **** static size_t strnlen(const char *s, size_t count);
  25:user/trace/tiny_vsnprintf.c **** 
  26:user/trace/tiny_vsnprintf.c **** static size_t strnlen(const char *s, size_t count)
  27:user/trace/tiny_vsnprintf.c **** {
  28:user/trace/tiny_vsnprintf.c ****   const char *sc;
  29:user/trace/tiny_vsnprintf.c ****   for (sc = s; *sc != '\0' && count--; ++sc);
  30:user/trace/tiny_vsnprintf.c ****   return sc - s;
  31:user/trace/tiny_vsnprintf.c **** }
  32:user/trace/tiny_vsnprintf.c **** #endif
  33:user/trace/tiny_vsnprintf.c **** 
  34:user/trace/tiny_vsnprintf.c **** static int ee_skip_atoi(const char **s)
  35:user/trace/tiny_vsnprintf.c **** {
  36:user/trace/tiny_vsnprintf.c ****   int i = 0;
  37:user/trace/tiny_vsnprintf.c ****   while (is_digit(**s)) i = i*10 + *((*s)++) - '0';
  38:user/trace/tiny_vsnprintf.c ****   return i;
  39:user/trace/tiny_vsnprintf.c **** }
  40:user/trace/tiny_vsnprintf.c **** 
  41:user/trace/tiny_vsnprintf.c **** #define ASSIGN_STR(_c)  do { *str++ = (_c); max_size--; if (max_size == 0) return str; } while (0)
  42:user/trace/tiny_vsnprintf.c **** 
  43:user/trace/tiny_vsnprintf.c **** static char *ee_number(char *str, int max_size, long num, int base, int size, int precision, int ty
  44:user/trace/tiny_vsnprintf.c **** {
  45:user/trace/tiny_vsnprintf.c ****   char c;
  46:user/trace/tiny_vsnprintf.c ****   char sign, tmp[66];
  47:user/trace/tiny_vsnprintf.c ****   char *dig = lower_digits;
  48:user/trace/tiny_vsnprintf.c ****   int i;
  49:user/trace/tiny_vsnprintf.c **** 
  50:user/trace/tiny_vsnprintf.c ****   if (type & UPPERCASE)  dig = upper_digits;
  51:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
  52:user/trace/tiny_vsnprintf.c **** #else
  53:user/trace/tiny_vsnprintf.c ****   if (type & LEFT) type &= ~ZEROPAD;
  54:user/trace/tiny_vsnprintf.c **** #endif
  55:user/trace/tiny_vsnprintf.c ****   if (base < 2 || base > 36) return 0;
  56:user/trace/tiny_vsnprintf.c **** 
  57:user/trace/tiny_vsnprintf.c ****   c = (type & ZEROPAD) ? '0' : ' ';
  58:user/trace/tiny_vsnprintf.c ****   sign = 0;
  59:user/trace/tiny_vsnprintf.c ****   if (type & SIGN)
  60:user/trace/tiny_vsnprintf.c ****   {
  61:user/trace/tiny_vsnprintf.c ****     if (num < 0)
  62:user/trace/tiny_vsnprintf.c ****     {
  63:user/trace/tiny_vsnprintf.c ****       sign = '-';
  64:user/trace/tiny_vsnprintf.c ****       num = -num;
  65:user/trace/tiny_vsnprintf.c ****       size--;
  66:user/trace/tiny_vsnprintf.c ****     }
  67:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
  68:user/trace/tiny_vsnprintf.c **** #else
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 3


  69:user/trace/tiny_vsnprintf.c ****     else if (type & PLUS)
  70:user/trace/tiny_vsnprintf.c ****     {
  71:user/trace/tiny_vsnprintf.c ****       sign = '+';
  72:user/trace/tiny_vsnprintf.c ****       size--;
  73:user/trace/tiny_vsnprintf.c ****     }
  74:user/trace/tiny_vsnprintf.c ****     else if (type & SPACE)
  75:user/trace/tiny_vsnprintf.c ****     {
  76:user/trace/tiny_vsnprintf.c ****       sign = ' ';
  77:user/trace/tiny_vsnprintf.c ****       size--;
  78:user/trace/tiny_vsnprintf.c ****     }
  79:user/trace/tiny_vsnprintf.c **** #endif
  80:user/trace/tiny_vsnprintf.c ****   }
  81:user/trace/tiny_vsnprintf.c **** 
  82:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
  83:user/trace/tiny_vsnprintf.c **** #else
  84:user/trace/tiny_vsnprintf.c ****   if (type & HEX_PREP)
  85:user/trace/tiny_vsnprintf.c ****   {
  86:user/trace/tiny_vsnprintf.c ****     if (base == 16)
  87:user/trace/tiny_vsnprintf.c ****       size -= 2;
  88:user/trace/tiny_vsnprintf.c ****     else if (base == 8)
  89:user/trace/tiny_vsnprintf.c ****       size--;
  90:user/trace/tiny_vsnprintf.c ****   }
  91:user/trace/tiny_vsnprintf.c **** #endif
  92:user/trace/tiny_vsnprintf.c **** 
  93:user/trace/tiny_vsnprintf.c ****   i = 0;
  94:user/trace/tiny_vsnprintf.c **** 
  95:user/trace/tiny_vsnprintf.c ****   if (num == 0)
  96:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
  97:user/trace/tiny_vsnprintf.c ****   else
  98:user/trace/tiny_vsnprintf.c ****   {
  99:user/trace/tiny_vsnprintf.c ****     while (num != 0)
 100:user/trace/tiny_vsnprintf.c ****     {
 101:user/trace/tiny_vsnprintf.c ****       tmp[i++] = dig[((unsigned long) num) % (unsigned) base];
 102:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 103:user/trace/tiny_vsnprintf.c ****     }
 104:user/trace/tiny_vsnprintf.c ****   }
 105:user/trace/tiny_vsnprintf.c **** 
 106:user/trace/tiny_vsnprintf.c ****   if (i > precision) precision = i;
 107:user/trace/tiny_vsnprintf.c ****   size -= precision;
 108:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 109:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 110:user/trace/tiny_vsnprintf.c **** 
 111:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 112:user/trace/tiny_vsnprintf.c **** #else
 113:user/trace/tiny_vsnprintf.c ****   if (type & HEX_PREP)
 114:user/trace/tiny_vsnprintf.c ****   {
 115:user/trace/tiny_vsnprintf.c ****     if (base == 8)
 116:user/trace/tiny_vsnprintf.c ****       ASSIGN_STR('0');
 117:user/trace/tiny_vsnprintf.c ****     else if (base == 16)
 118:user/trace/tiny_vsnprintf.c ****     {
 119:user/trace/tiny_vsnprintf.c ****       ASSIGN_STR('0');
 120:user/trace/tiny_vsnprintf.c ****       ASSIGN_STR(lower_digits[33]);
 121:user/trace/tiny_vsnprintf.c ****     }
 122:user/trace/tiny_vsnprintf.c ****   }
 123:user/trace/tiny_vsnprintf.c **** #endif
 124:user/trace/tiny_vsnprintf.c **** 
 125:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 4


 126:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(c);
 127:user/trace/tiny_vsnprintf.c **** #else
 128:user/trace/tiny_vsnprintf.c ****   if (!(type & LEFT)) while (size-- > 0) ASSIGN_STR(c);
 129:user/trace/tiny_vsnprintf.c **** #endif
 130:user/trace/tiny_vsnprintf.c ****   while (i < precision--) ASSIGN_STR('0');
 131:user/trace/tiny_vsnprintf.c ****   while (i-- > 0) ASSIGN_STR(tmp[i]);
 132:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 133:user/trace/tiny_vsnprintf.c **** 
 134:user/trace/tiny_vsnprintf.c ****   return str;
 135:user/trace/tiny_vsnprintf.c **** }
 136:user/trace/tiny_vsnprintf.c **** 
 137:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 138:user/trace/tiny_vsnprintf.c **** #else
 139:user/trace/tiny_vsnprintf.c **** static char *eaddr(char *str, unsigned char *addr, int size, int precision, int type)
 140:user/trace/tiny_vsnprintf.c **** {
 141:user/trace/tiny_vsnprintf.c ****   char tmp[24];
 142:user/trace/tiny_vsnprintf.c ****   char *dig = lower_digits;
 143:user/trace/tiny_vsnprintf.c ****   int i, len;
 144:user/trace/tiny_vsnprintf.c **** 
 145:user/trace/tiny_vsnprintf.c ****   if (type & UPPERCASE)  dig = upper_digits;
 146:user/trace/tiny_vsnprintf.c ****   len = 0;
 147:user/trace/tiny_vsnprintf.c ****   for (i = 0; i < 6; i++)
 148:user/trace/tiny_vsnprintf.c ****   {
 149:user/trace/tiny_vsnprintf.c ****     if (i != 0) tmp[len++] = ':';
 150:user/trace/tiny_vsnprintf.c ****     tmp[len++] = dig[addr[i] >> 4];
 151:user/trace/tiny_vsnprintf.c ****     tmp[len++] = dig[addr[i] & 0x0F];
 152:user/trace/tiny_vsnprintf.c ****   }
 153:user/trace/tiny_vsnprintf.c **** 
 154:user/trace/tiny_vsnprintf.c ****   if (!(type & LEFT)) while (len < size--) *str++ = ' ';
 155:user/trace/tiny_vsnprintf.c ****   for (i = 0; i < len; ++i) *str++ = tmp[i];
 156:user/trace/tiny_vsnprintf.c ****   while (len < size--) *str++ = ' ';
 157:user/trace/tiny_vsnprintf.c **** 
 158:user/trace/tiny_vsnprintf.c ****   return str;
 159:user/trace/tiny_vsnprintf.c **** }
 160:user/trace/tiny_vsnprintf.c **** 
 161:user/trace/tiny_vsnprintf.c **** static char *iaddr(char *str, unsigned char *addr, int size, int precision, int type)
 162:user/trace/tiny_vsnprintf.c **** {
 163:user/trace/tiny_vsnprintf.c ****   char tmp[24];
 164:user/trace/tiny_vsnprintf.c ****   int i, n, len;
 165:user/trace/tiny_vsnprintf.c **** 
 166:user/trace/tiny_vsnprintf.c ****   len = 0;
 167:user/trace/tiny_vsnprintf.c ****   for (i = 0; i < 4; i++)
 168:user/trace/tiny_vsnprintf.c ****   {
 169:user/trace/tiny_vsnprintf.c ****     if (i != 0) tmp[len++] = '.';
 170:user/trace/tiny_vsnprintf.c ****     n = addr[i];
 171:user/trace/tiny_vsnprintf.c **** 
 172:user/trace/tiny_vsnprintf.c ****     if (n == 0)
 173:user/trace/tiny_vsnprintf.c ****       tmp[len++] = lower_digits[0];
 174:user/trace/tiny_vsnprintf.c ****     else
 175:user/trace/tiny_vsnprintf.c ****     {
 176:user/trace/tiny_vsnprintf.c ****       if (n >= 100)
 177:user/trace/tiny_vsnprintf.c ****       {
 178:user/trace/tiny_vsnprintf.c ****         tmp[len++] = lower_digits[n / 100];
 179:user/trace/tiny_vsnprintf.c ****         n = n % 100;
 180:user/trace/tiny_vsnprintf.c ****         tmp[len++] = lower_digits[n / 10];
 181:user/trace/tiny_vsnprintf.c ****         n = n % 10;
 182:user/trace/tiny_vsnprintf.c ****       }
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 5


 183:user/trace/tiny_vsnprintf.c ****       else if (n >= 10)
 184:user/trace/tiny_vsnprintf.c ****       {
 185:user/trace/tiny_vsnprintf.c ****         tmp[len++] = lower_digits[n / 10];
 186:user/trace/tiny_vsnprintf.c ****         n = n % 10;
 187:user/trace/tiny_vsnprintf.c ****       }
 188:user/trace/tiny_vsnprintf.c **** 
 189:user/trace/tiny_vsnprintf.c ****       tmp[len++] = lower_digits[n];
 190:user/trace/tiny_vsnprintf.c ****     }
 191:user/trace/tiny_vsnprintf.c ****   }
 192:user/trace/tiny_vsnprintf.c **** 
 193:user/trace/tiny_vsnprintf.c ****   if (!(type & LEFT)) while (len < size--) *str++ = ' ';
 194:user/trace/tiny_vsnprintf.c ****   for (i = 0; i < len; ++i) *str++ = tmp[i];
 195:user/trace/tiny_vsnprintf.c ****   while (len < size--) *str++ = ' ';
 196:user/trace/tiny_vsnprintf.c **** 
 197:user/trace/tiny_vsnprintf.c ****   return str;
 198:user/trace/tiny_vsnprintf.c **** }
 199:user/trace/tiny_vsnprintf.c **** #endif
 200:user/trace/tiny_vsnprintf.c **** 
 201:user/trace/tiny_vsnprintf.c **** #ifdef HAS_FLOAT
 202:user/trace/tiny_vsnprintf.c **** 
 203:user/trace/tiny_vsnprintf.c **** char *ecvtbuf(double arg, int ndigits, int *decpt, int *sign, char *buf);
 204:user/trace/tiny_vsnprintf.c **** char *fcvtbuf(double arg, int ndigits, int *decpt, int *sign, char *buf);
 205:user/trace/tiny_vsnprintf.c **** static void ee_bufcpy(char *d, char *s, int count);
 206:user/trace/tiny_vsnprintf.c **** 
 207:user/trace/tiny_vsnprintf.c **** void ee_bufcpy(char *pd, char *ps, int count) {
 208:user/trace/tiny_vsnprintf.c ****   char *pe=ps+count;
 209:user/trace/tiny_vsnprintf.c ****   while (ps!=pe)
 210:user/trace/tiny_vsnprintf.c ****     *pd++=*ps++;
 211:user/trace/tiny_vsnprintf.c **** }
 212:user/trace/tiny_vsnprintf.c **** 
 213:user/trace/tiny_vsnprintf.c **** static void parse_float(double value, char *buffer, char fmt, int precision)
 214:user/trace/tiny_vsnprintf.c **** {
 215:user/trace/tiny_vsnprintf.c ****   int decpt, sign, exp, pos;
 216:user/trace/tiny_vsnprintf.c ****   char *fdigits = NULL;
 217:user/trace/tiny_vsnprintf.c ****   char cvtbuf[80];
 218:user/trace/tiny_vsnprintf.c ****   int capexp = 0;
 219:user/trace/tiny_vsnprintf.c ****   int magnitude;
 220:user/trace/tiny_vsnprintf.c **** 
 221:user/trace/tiny_vsnprintf.c ****   if (fmt == 'G' || fmt == 'E')
 222:user/trace/tiny_vsnprintf.c ****   {
 223:user/trace/tiny_vsnprintf.c ****     capexp = 1;
 224:user/trace/tiny_vsnprintf.c ****     fmt += 'a' - 'A';
 225:user/trace/tiny_vsnprintf.c ****   }
 226:user/trace/tiny_vsnprintf.c **** 
 227:user/trace/tiny_vsnprintf.c ****   if (fmt == 'g')
 228:user/trace/tiny_vsnprintf.c ****   {
 229:user/trace/tiny_vsnprintf.c ****     fdigits = ecvtbuf(value, precision, &decpt, &sign, cvtbuf);
 230:user/trace/tiny_vsnprintf.c ****     magnitude = decpt - 1;
 231:user/trace/tiny_vsnprintf.c ****     if (magnitude < -4  ||  magnitude > precision - 1)
 232:user/trace/tiny_vsnprintf.c ****     {
 233:user/trace/tiny_vsnprintf.c ****       fmt = 'e';
 234:user/trace/tiny_vsnprintf.c ****       precision -= 1;
 235:user/trace/tiny_vsnprintf.c ****     }
 236:user/trace/tiny_vsnprintf.c ****     else
 237:user/trace/tiny_vsnprintf.c ****     {
 238:user/trace/tiny_vsnprintf.c ****       fmt = 'f';
 239:user/trace/tiny_vsnprintf.c ****       precision -= decpt;
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 6


 240:user/trace/tiny_vsnprintf.c ****     }
 241:user/trace/tiny_vsnprintf.c ****   }
 242:user/trace/tiny_vsnprintf.c **** 
 243:user/trace/tiny_vsnprintf.c ****   if (fmt == 'e')
 244:user/trace/tiny_vsnprintf.c ****   {
 245:user/trace/tiny_vsnprintf.c ****     fdigits = ecvtbuf(value, precision + 1, &decpt, &sign, cvtbuf);
 246:user/trace/tiny_vsnprintf.c **** 
 247:user/trace/tiny_vsnprintf.c ****     if (sign) *buffer++ = '-';
 248:user/trace/tiny_vsnprintf.c ****     *buffer++ = *fdigits;
 249:user/trace/tiny_vsnprintf.c ****     if (precision > 0) *buffer++ = '.';
 250:user/trace/tiny_vsnprintf.c ****     ee_bufcpy(buffer, fdigits + 1, precision);
 251:user/trace/tiny_vsnprintf.c ****     buffer += precision;
 252:user/trace/tiny_vsnprintf.c ****     *buffer++ = capexp ? 'E' : 'e';
 253:user/trace/tiny_vsnprintf.c **** 
 254:user/trace/tiny_vsnprintf.c ****     if (decpt == 0)
 255:user/trace/tiny_vsnprintf.c ****     {
 256:user/trace/tiny_vsnprintf.c ****       if (value == 0.0)
 257:user/trace/tiny_vsnprintf.c ****         exp = 0;
 258:user/trace/tiny_vsnprintf.c ****       else
 259:user/trace/tiny_vsnprintf.c ****         exp = -1;
 260:user/trace/tiny_vsnprintf.c ****     }
 261:user/trace/tiny_vsnprintf.c ****     else
 262:user/trace/tiny_vsnprintf.c ****       exp = decpt - 1;
 263:user/trace/tiny_vsnprintf.c **** 
 264:user/trace/tiny_vsnprintf.c ****     if (exp < 0)
 265:user/trace/tiny_vsnprintf.c ****     {
 266:user/trace/tiny_vsnprintf.c ****       *buffer++ = '-';
 267:user/trace/tiny_vsnprintf.c ****       exp = -exp;
 268:user/trace/tiny_vsnprintf.c ****     }
 269:user/trace/tiny_vsnprintf.c ****     else
 270:user/trace/tiny_vsnprintf.c ****       *buffer++ = '+';
 271:user/trace/tiny_vsnprintf.c **** 
 272:user/trace/tiny_vsnprintf.c ****     buffer[2] = (exp % 10) + '0';
 273:user/trace/tiny_vsnprintf.c ****     exp = exp / 10;
 274:user/trace/tiny_vsnprintf.c ****     buffer[1] = (exp % 10) + '0';
 275:user/trace/tiny_vsnprintf.c ****     exp = exp / 10;
 276:user/trace/tiny_vsnprintf.c ****     buffer[0] = (exp % 10) + '0';
 277:user/trace/tiny_vsnprintf.c ****     buffer += 3;
 278:user/trace/tiny_vsnprintf.c ****   }
 279:user/trace/tiny_vsnprintf.c ****   else if (fmt == 'f')
 280:user/trace/tiny_vsnprintf.c ****   {
 281:user/trace/tiny_vsnprintf.c ****     fdigits = fcvtbuf(value, precision, &decpt, &sign, cvtbuf);
 282:user/trace/tiny_vsnprintf.c ****     if (sign) *buffer++ = '-';
 283:user/trace/tiny_vsnprintf.c ****     if (*fdigits)
 284:user/trace/tiny_vsnprintf.c ****     {
 285:user/trace/tiny_vsnprintf.c ****       if (decpt <= 0)
 286:user/trace/tiny_vsnprintf.c ****       {
 287:user/trace/tiny_vsnprintf.c ****         *buffer++ = '0';
 288:user/trace/tiny_vsnprintf.c ****         *buffer++ = '.';
 289:user/trace/tiny_vsnprintf.c ****         for (pos = 0; pos < -decpt; pos++) *buffer++ = '0';
 290:user/trace/tiny_vsnprintf.c ****         while (*fdigits) *buffer++ = *fdigits++;
 291:user/trace/tiny_vsnprintf.c ****       }
 292:user/trace/tiny_vsnprintf.c ****       else
 293:user/trace/tiny_vsnprintf.c ****       {
 294:user/trace/tiny_vsnprintf.c ****         pos = 0;
 295:user/trace/tiny_vsnprintf.c ****         while (*fdigits)
 296:user/trace/tiny_vsnprintf.c ****         {
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 7


 297:user/trace/tiny_vsnprintf.c ****           if (pos++ == decpt) *buffer++ = '.';
 298:user/trace/tiny_vsnprintf.c ****           *buffer++ = *fdigits++;
 299:user/trace/tiny_vsnprintf.c ****         }
 300:user/trace/tiny_vsnprintf.c ****       }
 301:user/trace/tiny_vsnprintf.c ****     }
 302:user/trace/tiny_vsnprintf.c ****     else
 303:user/trace/tiny_vsnprintf.c ****     {
 304:user/trace/tiny_vsnprintf.c ****       *buffer++ = '0';
 305:user/trace/tiny_vsnprintf.c ****       if (precision > 0)
 306:user/trace/tiny_vsnprintf.c ****       {
 307:user/trace/tiny_vsnprintf.c ****         *buffer++ = '.';
 308:user/trace/tiny_vsnprintf.c ****         for (pos = 0; pos < precision; pos++) *buffer++ = '0';
 309:user/trace/tiny_vsnprintf.c ****       }
 310:user/trace/tiny_vsnprintf.c ****     }
 311:user/trace/tiny_vsnprintf.c ****   }
 312:user/trace/tiny_vsnprintf.c **** 
 313:user/trace/tiny_vsnprintf.c ****   *buffer = '\0';
 314:user/trace/tiny_vsnprintf.c **** }
 315:user/trace/tiny_vsnprintf.c **** 
 316:user/trace/tiny_vsnprintf.c **** static void decimal_point(char *buffer)
 317:user/trace/tiny_vsnprintf.c **** {
 318:user/trace/tiny_vsnprintf.c ****   while (*buffer)
 319:user/trace/tiny_vsnprintf.c ****   {
 320:user/trace/tiny_vsnprintf.c ****     if (*buffer == '.') return;
 321:user/trace/tiny_vsnprintf.c ****     if (*buffer == 'e' || *buffer == 'E') break;
 322:user/trace/tiny_vsnprintf.c ****     buffer++;
 323:user/trace/tiny_vsnprintf.c ****   }
 324:user/trace/tiny_vsnprintf.c **** 
 325:user/trace/tiny_vsnprintf.c ****   if (*buffer)
 326:user/trace/tiny_vsnprintf.c ****   {
 327:user/trace/tiny_vsnprintf.c ****     int n = strnlen(buffer,256);
 328:user/trace/tiny_vsnprintf.c ****     while (n > 0)
 329:user/trace/tiny_vsnprintf.c ****     {
 330:user/trace/tiny_vsnprintf.c ****       buffer[n + 1] = buffer[n];
 331:user/trace/tiny_vsnprintf.c ****       n--;
 332:user/trace/tiny_vsnprintf.c ****     }
 333:user/trace/tiny_vsnprintf.c **** 
 334:user/trace/tiny_vsnprintf.c ****     *buffer = '.';
 335:user/trace/tiny_vsnprintf.c ****   }
 336:user/trace/tiny_vsnprintf.c ****   else
 337:user/trace/tiny_vsnprintf.c ****   {
 338:user/trace/tiny_vsnprintf.c ****     *buffer++ = '.';
 339:user/trace/tiny_vsnprintf.c ****     *buffer = '\0';
 340:user/trace/tiny_vsnprintf.c ****   }
 341:user/trace/tiny_vsnprintf.c **** }
 342:user/trace/tiny_vsnprintf.c **** 
 343:user/trace/tiny_vsnprintf.c **** static void cropzeros(char *buffer)
 344:user/trace/tiny_vsnprintf.c **** {
 345:user/trace/tiny_vsnprintf.c ****   char *stop;
 346:user/trace/tiny_vsnprintf.c **** 
 347:user/trace/tiny_vsnprintf.c ****   while (*buffer && *buffer != '.') buffer++;
 348:user/trace/tiny_vsnprintf.c ****   if (*buffer++)
 349:user/trace/tiny_vsnprintf.c ****   {
 350:user/trace/tiny_vsnprintf.c ****     while (*buffer && *buffer != 'e' && *buffer != 'E') buffer++;
 351:user/trace/tiny_vsnprintf.c ****     stop = buffer--;
 352:user/trace/tiny_vsnprintf.c ****     while (*buffer == '0') buffer--;
 353:user/trace/tiny_vsnprintf.c ****     if (*buffer == '.') buffer--;
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 8


 354:user/trace/tiny_vsnprintf.c ****     while (buffer!=stop)
 355:user/trace/tiny_vsnprintf.c ****     *++buffer=0;
 356:user/trace/tiny_vsnprintf.c ****   }
 357:user/trace/tiny_vsnprintf.c **** }
 358:user/trace/tiny_vsnprintf.c **** 
 359:user/trace/tiny_vsnprintf.c **** static char *flt(char *str, double num, int size, int precision, char fmt, int flags)
 360:user/trace/tiny_vsnprintf.c **** {
 361:user/trace/tiny_vsnprintf.c ****   char tmp[80];
 362:user/trace/tiny_vsnprintf.c ****   char c, sign;
 363:user/trace/tiny_vsnprintf.c ****   int n, i;
 364:user/trace/tiny_vsnprintf.c **** 
 365:user/trace/tiny_vsnprintf.c ****   // Left align means no zero padding
 366:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 367:user/trace/tiny_vsnprintf.c **** #else
 368:user/trace/tiny_vsnprintf.c ****   if (flags & LEFT) flags &= ~ZEROPAD;
 369:user/trace/tiny_vsnprintf.c **** #endif
 370:user/trace/tiny_vsnprintf.c **** 
 371:user/trace/tiny_vsnprintf.c ****   // Determine padding and sign char
 372:user/trace/tiny_vsnprintf.c ****   c = (flags & ZEROPAD) ? '0' : ' ';
 373:user/trace/tiny_vsnprintf.c ****   sign = 0;
 374:user/trace/tiny_vsnprintf.c ****   if (flags & SIGN)
 375:user/trace/tiny_vsnprintf.c ****   {
 376:user/trace/tiny_vsnprintf.c ****     if (num < 0.0)
 377:user/trace/tiny_vsnprintf.c ****     {
 378:user/trace/tiny_vsnprintf.c ****       sign = '-';
 379:user/trace/tiny_vsnprintf.c ****       num = -num;
 380:user/trace/tiny_vsnprintf.c ****       size--;
 381:user/trace/tiny_vsnprintf.c ****     }
 382:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 383:user/trace/tiny_vsnprintf.c **** #else
 384:user/trace/tiny_vsnprintf.c ****     else if (flags & PLUS)
 385:user/trace/tiny_vsnprintf.c ****     {
 386:user/trace/tiny_vsnprintf.c ****       sign = '+';
 387:user/trace/tiny_vsnprintf.c ****       size--;
 388:user/trace/tiny_vsnprintf.c ****     }
 389:user/trace/tiny_vsnprintf.c ****     else if (flags & SPACE)
 390:user/trace/tiny_vsnprintf.c ****     {
 391:user/trace/tiny_vsnprintf.c ****       sign = ' ';
 392:user/trace/tiny_vsnprintf.c ****       size--;
 393:user/trace/tiny_vsnprintf.c ****     }
 394:user/trace/tiny_vsnprintf.c **** #endif
 395:user/trace/tiny_vsnprintf.c ****   }
 396:user/trace/tiny_vsnprintf.c **** 
 397:user/trace/tiny_vsnprintf.c ****   // Compute the precision value
 398:user/trace/tiny_vsnprintf.c ****   if (precision < 0)
 399:user/trace/tiny_vsnprintf.c ****     precision = 6; // Default precision: 6
 400:user/trace/tiny_vsnprintf.c **** 
 401:user/trace/tiny_vsnprintf.c ****   // Convert floating point number to text
 402:user/trace/tiny_vsnprintf.c ****   parse_float(num, tmp, fmt, precision);
 403:user/trace/tiny_vsnprintf.c **** 
 404:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 405:user/trace/tiny_vsnprintf.c **** #else
 406:user/trace/tiny_vsnprintf.c ****   if ((flags & HEX_PREP) && precision == 0) decimal_point(tmp);
 407:user/trace/tiny_vsnprintf.c **** #endif
 408:user/trace/tiny_vsnprintf.c ****   if (fmt == 'g' && !(flags & HEX_PREP)) cropzeros(tmp);
 409:user/trace/tiny_vsnprintf.c **** 
 410:user/trace/tiny_vsnprintf.c ****   n = strnlen(tmp,256);
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 9


 411:user/trace/tiny_vsnprintf.c **** 
 412:user/trace/tiny_vsnprintf.c ****   // Output number with alignment and padding
 413:user/trace/tiny_vsnprintf.c ****   size -= n;
 414:user/trace/tiny_vsnprintf.c ****   if (!(flags & (ZEROPAD | LEFT))) while (size-- > 0) *str++ = ' ';
 415:user/trace/tiny_vsnprintf.c ****   if (sign) *str++ = sign;
 416:user/trace/tiny_vsnprintf.c ****   if (!(flags & LEFT)) while (size-- > 0) *str++ = c;
 417:user/trace/tiny_vsnprintf.c ****   for (i = 0; i < n; i++) *str++ = tmp[i];
 418:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) *str++ = ' ';
 419:user/trace/tiny_vsnprintf.c **** 
 420:user/trace/tiny_vsnprintf.c ****   return str;
 421:user/trace/tiny_vsnprintf.c **** }
 422:user/trace/tiny_vsnprintf.c **** 
 423:user/trace/tiny_vsnprintf.c **** #endif
 424:user/trace/tiny_vsnprintf.c **** 
 425:user/trace/tiny_vsnprintf.c **** #define CHECK_STR_SIZE(_buf, _str, _size) \
 426:user/trace/tiny_vsnprintf.c ****   if ((((_str) - (_buf)) >= ((_size)-1))) { break; }
 427:user/trace/tiny_vsnprintf.c **** 
 428:user/trace/tiny_vsnprintf.c **** int tiny_vsnprintf_like(char *buf, const int size, const char *fmt, va_list args)
 429:user/trace/tiny_vsnprintf.c **** {
  39              		.loc 1 429 1 view -0
  40              		.cfi_startproc
  41              		@ args = 0, pretend = 0, frame = 96
  42              		@ frame_needed = 0, uses_anonymous_args = 0
  43              		.loc 1 429 1 is_stmt 0 view .LVU1
  44 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  45              	.LCFI0:
  46              		.cfi_def_cfa_offset 36
  47              		.cfi_offset 4, -36
  48              		.cfi_offset 5, -32
  49              		.cfi_offset 6, -28
  50              		.cfi_offset 7, -24
  51              		.cfi_offset 8, -20
  52              		.cfi_offset 9, -16
  53              		.cfi_offset 10, -12
  54              		.cfi_offset 11, -8
  55              		.cfi_offset 14, -4
 430:user/trace/tiny_vsnprintf.c ****   unsigned long num;
 431:user/trace/tiny_vsnprintf.c ****   int base;
 432:user/trace/tiny_vsnprintf.c ****   char *str;
 433:user/trace/tiny_vsnprintf.c ****   int len;
 434:user/trace/tiny_vsnprintf.c ****   int i;
 435:user/trace/tiny_vsnprintf.c ****   char *s;
 436:user/trace/tiny_vsnprintf.c **** 
 437:user/trace/tiny_vsnprintf.c ****   int flags;            // Flags to number()
 438:user/trace/tiny_vsnprintf.c **** 
 439:user/trace/tiny_vsnprintf.c ****   int field_width;      // Width of output field
 440:user/trace/tiny_vsnprintf.c ****   int precision;        // Min. # of digits for integers; max number of chars for from string
 441:user/trace/tiny_vsnprintf.c ****   int qualifier;        // 'h', 'l', or 'L' for integer fields
 442:user/trace/tiny_vsnprintf.c **** 
 443:user/trace/tiny_vsnprintf.c ****   if (size <= 0)
  56              		.loc 1 443 6 view .LVU2
  57 0004 0029     		cmp	r1, #0
 429:user/trace/tiny_vsnprintf.c ****   unsigned long num;
  58              		.loc 1 429 1 view .LVU3
  59 0006 99B0     		sub	sp, sp, #100
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 136
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 10


 429:user/trace/tiny_vsnprintf.c ****   unsigned long num;
  62              		.loc 1 429 1 view .LVU4
  63 0008 0190     		str	r0, [sp, #4]
  64              	.LVL1:
 430:user/trace/tiny_vsnprintf.c ****   unsigned long num;
  65              		.loc 1 430 3 is_stmt 1 view .LVU5
 431:user/trace/tiny_vsnprintf.c ****   char *str;
  66              		.loc 1 431 3 view .LVU6
 432:user/trace/tiny_vsnprintf.c ****   int len;
  67              		.loc 1 432 3 view .LVU7
 433:user/trace/tiny_vsnprintf.c ****   int i;
  68              		.loc 1 433 3 view .LVU8
 434:user/trace/tiny_vsnprintf.c ****   char *s;
  69              		.loc 1 434 3 view .LVU9
 435:user/trace/tiny_vsnprintf.c **** 
  70              		.loc 1 435 3 view .LVU10
 437:user/trace/tiny_vsnprintf.c **** 
  71              		.loc 1 437 3 view .LVU11
 439:user/trace/tiny_vsnprintf.c ****   int precision;        // Min. # of digits for integers; max number of chars for from string
  72              		.loc 1 439 3 view .LVU12
 440:user/trace/tiny_vsnprintf.c ****   int qualifier;        // 'h', 'l', or 'L' for integer fields
  73              		.loc 1 440 3 view .LVU13
 441:user/trace/tiny_vsnprintf.c **** 
  74              		.loc 1 441 3 view .LVU14
  75              		.loc 1 443 3 view .LVU15
  76              		.loc 1 443 6 is_stmt 0 view .LVU16
  77 000a 40F30182 		ble	.L57
  78 000e 9246     		mov	r10, r2
 444:user/trace/tiny_vsnprintf.c ****   {
 445:user/trace/tiny_vsnprintf.c ****     return 0;
 446:user/trace/tiny_vsnprintf.c ****   }
 447:user/trace/tiny_vsnprintf.c **** 
 448:user/trace/tiny_vsnprintf.c ****   for (str = buf; *fmt || ((str - buf) >= size-1); fmt++)
  79              		.loc 1 448 12 view .LVU17
  80 0010 8346     		mov	fp, r0
  81 0012 0393     		str	r3, [sp, #12]
 449:user/trace/tiny_vsnprintf.c ****   {
 450:user/trace/tiny_vsnprintf.c ****     CHECK_STR_SIZE(buf, str, size);
  82              		.loc 1 450 5 view .LVU18
  83 0014 4B1E     		subs	r3, r1, #1
  84              	.LVL2:
  85              		.loc 1 450 5 view .LVU19
  86 0016 0293     		str	r3, [sp, #8]
  87              	.LVL3:
  88              	.L3:
 448:user/trace/tiny_vsnprintf.c ****   {
  89              		.loc 1 448 19 is_stmt 1 discriminator 1 view .LVU20
  90 0018 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
  91              		.loc 1 450 5 is_stmt 0 discriminator 1 view .LVU21
  92 001c 019B     		ldr	r3, [sp, #4]
 448:user/trace/tiny_vsnprintf.c ****   {
  93              		.loc 1 448 3 discriminator 1 view .LVU22
  94 001e 3AB9     		cbnz	r2, .L46
 448:user/trace/tiny_vsnprintf.c ****   {
  95              		.loc 1 448 33 discriminator 3 view .LVU23
  96 0020 ABEB0300 		sub	r0, fp, r3
  97              	.L4:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 11


 451:user/trace/tiny_vsnprintf.c **** 
 452:user/trace/tiny_vsnprintf.c ****     if (*fmt != '%')
 453:user/trace/tiny_vsnprintf.c ****     {
 454:user/trace/tiny_vsnprintf.c ****       *str++ = *fmt;
 455:user/trace/tiny_vsnprintf.c ****       continue;
 456:user/trace/tiny_vsnprintf.c ****     }
 457:user/trace/tiny_vsnprintf.c **** 
 458:user/trace/tiny_vsnprintf.c ****     // Process flags
 459:user/trace/tiny_vsnprintf.c ****     flags = 0;
 460:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 461:user/trace/tiny_vsnprintf.c ****     /* Support %0, but not %-, %+, %space and %# */
 462:user/trace/tiny_vsnprintf.c ****     fmt++;
 463:user/trace/tiny_vsnprintf.c ****     if (*fmt == '0')
 464:user/trace/tiny_vsnprintf.c ****     {
 465:user/trace/tiny_vsnprintf.c ****       flags |= ZEROPAD;
 466:user/trace/tiny_vsnprintf.c ****     }
 467:user/trace/tiny_vsnprintf.c **** #else
 468:user/trace/tiny_vsnprintf.c **** repeat:
 469:user/trace/tiny_vsnprintf.c ****     fmt++; // This also skips first '%'
 470:user/trace/tiny_vsnprintf.c ****     switch (*fmt)
 471:user/trace/tiny_vsnprintf.c ****     {
 472:user/trace/tiny_vsnprintf.c ****       case '-': flags |= LEFT; goto repeat;
 473:user/trace/tiny_vsnprintf.c ****       case '+': flags |= PLUS; goto repeat;
 474:user/trace/tiny_vsnprintf.c ****       case ' ': flags |= SPACE; goto repeat;
 475:user/trace/tiny_vsnprintf.c ****       case '#': flags |= HEX_PREP; goto repeat;
 476:user/trace/tiny_vsnprintf.c ****       case '0': flags |= ZEROPAD; goto repeat;
 477:user/trace/tiny_vsnprintf.c ****     }
 478:user/trace/tiny_vsnprintf.c **** #endif
 479:user/trace/tiny_vsnprintf.c **** 
 480:user/trace/tiny_vsnprintf.c ****     // Get field width
 481:user/trace/tiny_vsnprintf.c ****     field_width = -1;
 482:user/trace/tiny_vsnprintf.c ****     if (is_digit(*fmt))
 483:user/trace/tiny_vsnprintf.c ****       field_width = ee_skip_atoi(&fmt);
 484:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 485:user/trace/tiny_vsnprintf.c ****     /* Does not support %* */
 486:user/trace/tiny_vsnprintf.c **** #else
 487:user/trace/tiny_vsnprintf.c ****     else if (*fmt == '*')
 488:user/trace/tiny_vsnprintf.c ****     {
 489:user/trace/tiny_vsnprintf.c ****       fmt++;
 490:user/trace/tiny_vsnprintf.c ****       field_width = va_arg(args, int);
 491:user/trace/tiny_vsnprintf.c ****       if (field_width < 0)
 492:user/trace/tiny_vsnprintf.c ****       {
 493:user/trace/tiny_vsnprintf.c ****         field_width = -field_width;
 494:user/trace/tiny_vsnprintf.c ****         flags |= LEFT;
 495:user/trace/tiny_vsnprintf.c ****       }
 496:user/trace/tiny_vsnprintf.c ****     }
 497:user/trace/tiny_vsnprintf.c **** #endif
 498:user/trace/tiny_vsnprintf.c **** 
 499:user/trace/tiny_vsnprintf.c ****     // Get the precision
 500:user/trace/tiny_vsnprintf.c ****     precision = -1;
 501:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 502:user/trace/tiny_vsnprintf.c ****     /* Does not support %. */
 503:user/trace/tiny_vsnprintf.c **** #else
 504:user/trace/tiny_vsnprintf.c ****     if (*fmt == '.')
 505:user/trace/tiny_vsnprintf.c ****     {
 506:user/trace/tiny_vsnprintf.c ****       ++fmt;
 507:user/trace/tiny_vsnprintf.c ****       if (is_digit(*fmt))
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 12


 508:user/trace/tiny_vsnprintf.c ****         precision = ee_skip_atoi(&fmt);
 509:user/trace/tiny_vsnprintf.c ****       else if (*fmt == '*')
 510:user/trace/tiny_vsnprintf.c ****       {
 511:user/trace/tiny_vsnprintf.c ****         ++fmt;
 512:user/trace/tiny_vsnprintf.c ****         precision = va_arg(args, int);
 513:user/trace/tiny_vsnprintf.c ****       }
 514:user/trace/tiny_vsnprintf.c ****       if (precision < 0) precision = 0;
 515:user/trace/tiny_vsnprintf.c ****     }
 516:user/trace/tiny_vsnprintf.c **** #endif
 517:user/trace/tiny_vsnprintf.c **** 
 518:user/trace/tiny_vsnprintf.c ****     // Get the conversion qualifier
 519:user/trace/tiny_vsnprintf.c ****     qualifier = -1;
 520:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 521:user/trace/tiny_vsnprintf.c ****       /* Does not support %l and %L */
 522:user/trace/tiny_vsnprintf.c **** #else
 523:user/trace/tiny_vsnprintf.c ****     if (*fmt == 'l' || *fmt == 'L')
 524:user/trace/tiny_vsnprintf.c ****     {
 525:user/trace/tiny_vsnprintf.c ****       qualifier = *fmt;
 526:user/trace/tiny_vsnprintf.c ****       fmt++;
 527:user/trace/tiny_vsnprintf.c ****     }
 528:user/trace/tiny_vsnprintf.c **** #endif
 529:user/trace/tiny_vsnprintf.c **** 
 530:user/trace/tiny_vsnprintf.c ****     // Default base
 531:user/trace/tiny_vsnprintf.c ****     base = 10;
 532:user/trace/tiny_vsnprintf.c **** 
 533:user/trace/tiny_vsnprintf.c ****     switch (*fmt)
 534:user/trace/tiny_vsnprintf.c ****     {
 535:user/trace/tiny_vsnprintf.c ****       case 'c':
 536:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 537:user/trace/tiny_vsnprintf.c **** #else
 538:user/trace/tiny_vsnprintf.c ****         if (!(flags & LEFT))
 539:user/trace/tiny_vsnprintf.c **** #endif
 540:user/trace/tiny_vsnprintf.c ****           while (--field_width > 0) *str++ = ' ';
 541:user/trace/tiny_vsnprintf.c ****         *str++ = (unsigned char) va_arg(args, int);
 542:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 543:user/trace/tiny_vsnprintf.c **** #else
 544:user/trace/tiny_vsnprintf.c ****         while (--field_width > 0) *str++ = ' ';
 545:user/trace/tiny_vsnprintf.c **** #endif
 546:user/trace/tiny_vsnprintf.c ****         continue;
 547:user/trace/tiny_vsnprintf.c **** 
 548:user/trace/tiny_vsnprintf.c ****       case 's':
 549:user/trace/tiny_vsnprintf.c ****         s = va_arg(args, char *);
 550:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 551:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 552:user/trace/tiny_vsnprintf.c ****         len = strlen(s);
 553:user/trace/tiny_vsnprintf.c **** #else
 554:user/trace/tiny_vsnprintf.c ****         len = strnlen(s, precision);
 555:user/trace/tiny_vsnprintf.c ****         if (!(flags & LEFT))
 556:user/trace/tiny_vsnprintf.c **** #endif
 557:user/trace/tiny_vsnprintf.c ****           while (len < field_width--) *str++ = ' ';
 558:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 559:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 560:user/trace/tiny_vsnprintf.c **** #else
 561:user/trace/tiny_vsnprintf.c ****         while (len < field_width--) *str++ = ' ';
 562:user/trace/tiny_vsnprintf.c **** #endif
 563:user/trace/tiny_vsnprintf.c ****         continue;
 564:user/trace/tiny_vsnprintf.c **** 
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 13


 565:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 566:user/trace/tiny_vsnprintf.c ****       /* Does not support %p, %A, %a, %o */
 567:user/trace/tiny_vsnprintf.c **** #else
 568:user/trace/tiny_vsnprintf.c ****       case 'p':
 569:user/trace/tiny_vsnprintf.c ****         if (field_width == -1)
 570:user/trace/tiny_vsnprintf.c ****         {
 571:user/trace/tiny_vsnprintf.c ****           field_width = 2 * sizeof(void *);
 572:user/trace/tiny_vsnprintf.c ****           flags |= ZEROPAD;
 573:user/trace/tiny_vsnprintf.c ****         }
 574:user/trace/tiny_vsnprintf.c ****         str = ee_number(str, (size - (str - buf)), (unsigned long) va_arg(args, void *), 16, field_
 575:user/trace/tiny_vsnprintf.c ****         continue;
 576:user/trace/tiny_vsnprintf.c **** 
 577:user/trace/tiny_vsnprintf.c ****       case 'A':
 578:user/trace/tiny_vsnprintf.c ****         flags |= UPPERCASE;
 579:user/trace/tiny_vsnprintf.c **** 
 580:user/trace/tiny_vsnprintf.c ****       case 'a':
 581:user/trace/tiny_vsnprintf.c ****         if (qualifier == 'l')
 582:user/trace/tiny_vsnprintf.c ****           str = eaddr(str, va_arg(args, unsigned char *), field_width, precision, flags);
 583:user/trace/tiny_vsnprintf.c ****         else
 584:user/trace/tiny_vsnprintf.c ****           str = iaddr(str, va_arg(args, unsigned char *), field_width, precision, flags);
 585:user/trace/tiny_vsnprintf.c ****         continue;
 586:user/trace/tiny_vsnprintf.c **** 
 587:user/trace/tiny_vsnprintf.c ****       // Integer number formats - set up the flags and "break"
 588:user/trace/tiny_vsnprintf.c ****       case 'o':
 589:user/trace/tiny_vsnprintf.c ****         base = 8;
 590:user/trace/tiny_vsnprintf.c ****         break;
 591:user/trace/tiny_vsnprintf.c **** #endif
 592:user/trace/tiny_vsnprintf.c **** 
 593:user/trace/tiny_vsnprintf.c ****       case 'X':
 594:user/trace/tiny_vsnprintf.c ****         flags |= UPPERCASE;
 595:user/trace/tiny_vsnprintf.c **** 
 596:user/trace/tiny_vsnprintf.c ****       case 'x':
 597:user/trace/tiny_vsnprintf.c ****         base = 16;
 598:user/trace/tiny_vsnprintf.c ****         break;
 599:user/trace/tiny_vsnprintf.c **** 
 600:user/trace/tiny_vsnprintf.c ****       case 'd':
 601:user/trace/tiny_vsnprintf.c ****       case 'i':
 602:user/trace/tiny_vsnprintf.c ****         flags |= SIGN;
 603:user/trace/tiny_vsnprintf.c **** 
 604:user/trace/tiny_vsnprintf.c ****       case 'u':
 605:user/trace/tiny_vsnprintf.c ****         break;
 606:user/trace/tiny_vsnprintf.c **** 
 607:user/trace/tiny_vsnprintf.c **** #ifdef HAS_FLOAT
 608:user/trace/tiny_vsnprintf.c **** 
 609:user/trace/tiny_vsnprintf.c ****       case 'f':
 610:user/trace/tiny_vsnprintf.c ****         str = flt(str, va_arg(args, double), field_width, precision, *fmt, flags | SIGN);
 611:user/trace/tiny_vsnprintf.c ****         continue;
 612:user/trace/tiny_vsnprintf.c **** 
 613:user/trace/tiny_vsnprintf.c **** #endif
 614:user/trace/tiny_vsnprintf.c **** 
 615:user/trace/tiny_vsnprintf.c ****       default:
 616:user/trace/tiny_vsnprintf.c ****         if (*fmt != '%') *str++ = '%';
 617:user/trace/tiny_vsnprintf.c ****         CHECK_STR_SIZE(buf, str, size);
 618:user/trace/tiny_vsnprintf.c ****         if (*fmt)
 619:user/trace/tiny_vsnprintf.c ****           *str++ = *fmt;
 620:user/trace/tiny_vsnprintf.c ****         else
 621:user/trace/tiny_vsnprintf.c ****           --fmt;
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 14


 622:user/trace/tiny_vsnprintf.c ****         CHECK_STR_SIZE(buf, str, size);
 623:user/trace/tiny_vsnprintf.c ****         continue;
 624:user/trace/tiny_vsnprintf.c ****     }
 625:user/trace/tiny_vsnprintf.c **** 
 626:user/trace/tiny_vsnprintf.c ****     if (qualifier == 'l')
 627:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned long);
 628:user/trace/tiny_vsnprintf.c ****     else if (flags & SIGN)
 629:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, int);
 630:user/trace/tiny_vsnprintf.c ****     else
 631:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned int);
 632:user/trace/tiny_vsnprintf.c **** 
 633:user/trace/tiny_vsnprintf.c ****     str = ee_number(str, ((size - 1) - (str - buf)), num, base, field_width, precision, flags);
 634:user/trace/tiny_vsnprintf.c ****   }
 635:user/trace/tiny_vsnprintf.c **** 
 636:user/trace/tiny_vsnprintf.c ****   *str = '\0';
  98              		.loc 1 636 3 is_stmt 1 view .LVU24
  99              		.loc 1 636 8 is_stmt 0 view .LVU25
 100 0024 0023     		movs	r3, #0
 101 0026 8BF80030 		strb	r3, [fp]
 637:user/trace/tiny_vsnprintf.c ****   return str - buf;
 102              		.loc 1 637 3 is_stmt 1 view .LVU26
 638:user/trace/tiny_vsnprintf.c **** }
 103              		.loc 1 638 1 is_stmt 0 view .LVU27
 104 002a 19B0     		add	sp, sp, #100
 105              	.LCFI2:
 106              		.cfi_remember_state
 107              		.cfi_def_cfa_offset 36
 108              		@ sp needed
 109 002c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 110              	.LVL4:
 111              	.L46:
 112              	.LCFI3:
 113              		.cfi_restore_state
 450:user/trace/tiny_vsnprintf.c **** 
 114              		.loc 1 450 5 is_stmt 1 view .LVU28
 115 0030 0299     		ldr	r1, [sp, #8]
 116 0032 ABEB0303 		sub	r3, fp, r3
 117 0036 8B42     		cmp	r3, r1
 118 0038 80F21F82 		bge	.L102
 450:user/trace/tiny_vsnprintf.c **** 
 119              		.loc 1 450 35 discriminator 1 view .LVU29
 452:user/trace/tiny_vsnprintf.c ****     {
 120              		.loc 1 452 5 discriminator 1 view .LVU30
 452:user/trace/tiny_vsnprintf.c ****     {
 121              		.loc 1 452 8 is_stmt 0 discriminator 1 view .LVU31
 122 003c 252A     		cmp	r2, #37
 123 003e 04D0     		beq	.L5
 454:user/trace/tiny_vsnprintf.c ****       continue;
 124              		.loc 1 454 7 is_stmt 1 view .LVU32
 125              	.LVL5:
 448:user/trace/tiny_vsnprintf.c ****   {
 126              		.loc 1 448 55 is_stmt 0 view .LVU33
 127 0040 0AF1010A 		add	r10, r10, #1
 128              	.LVL6:
 454:user/trace/tiny_vsnprintf.c ****       continue;
 129              		.loc 1 454 14 view .LVU34
 130 0044 0BF8012B 		strb	r2, [fp], #1
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 15


 131              	.LVL7:
 455:user/trace/tiny_vsnprintf.c ****     }
 132              		.loc 1 455 7 is_stmt 1 view .LVU35
 133 0048 E6E7     		b	.L3
 134              	.LVL8:
 135              	.L5:
 459:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 136              		.loc 1 459 5 view .LVU36
 462:user/trace/tiny_vsnprintf.c ****     if (*fmt == '0')
 137              		.loc 1 462 5 view .LVU37
 463:user/trace/tiny_vsnprintf.c ****     {
 138              		.loc 1 463 9 is_stmt 0 view .LVU38
 139 004a 9AF801C0 		ldrb	ip, [r10, #1]	@ zero_extendqisi2
 462:user/trace/tiny_vsnprintf.c ****     if (*fmt == '0')
 140              		.loc 1 462 8 view .LVU39
 141 004e 0AF10105 		add	r5, r10, #1
 142              	.LVL9:
 463:user/trace/tiny_vsnprintf.c ****     {
 143              		.loc 1 463 5 is_stmt 1 view .LVU40
 481:user/trace/tiny_vsnprintf.c ****     if (is_digit(*fmt))
 144              		.loc 1 481 5 view .LVU41
 482:user/trace/tiny_vsnprintf.c ****       field_width = ee_skip_atoi(&fmt);
 145              		.loc 1 482 5 view .LVU42
 482:user/trace/tiny_vsnprintf.c ****       field_width = ee_skip_atoi(&fmt);
 146              		.loc 1 482 8 is_stmt 0 view .LVU43
 147 0052 ACF13002 		sub	r2, ip, #48
 148 0056 092A     		cmp	r2, #9
 149 0058 58D9     		bls	.L108
 500:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 150              		.loc 1 500 5 is_stmt 1 view .LVU44
 151              	.LVL10:
 519:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 152              		.loc 1 519 5 view .LVU45
 531:user/trace/tiny_vsnprintf.c **** 
 153              		.loc 1 531 5 view .LVU46
 533:user/trace/tiny_vsnprintf.c ****     {
 154              		.loc 1 533 5 view .LVU47
 155 005a ACF15802 		sub	r2, ip, #88
 156 005e 202A     		cmp	r2, #32
 157 0060 22D8     		bhi	.L69
 158 0062 DFE812F0 		tbh	[pc, r2, lsl #1]
 159              	.L50:
 160 0066 0C01     		.2byte	(.L70-.L50)/2
 161 0068 2100     		.2byte	(.L69-.L50)/2
 162 006a 2100     		.2byte	(.L69-.L50)/2
 163 006c 2100     		.2byte	(.L69-.L50)/2
 164 006e 2100     		.2byte	(.L69-.L50)/2
 165 0070 2100     		.2byte	(.L69-.L50)/2
 166 0072 2100     		.2byte	(.L69-.L50)/2
 167 0074 2100     		.2byte	(.L69-.L50)/2
 168 0076 2100     		.2byte	(.L69-.L50)/2
 169 0078 2100     		.2byte	(.L69-.L50)/2
 170 007a 2100     		.2byte	(.L69-.L50)/2
 171 007c 3F00     		.2byte	(.L17-.L50)/2
 172 007e AB00     		.2byte	(.L72-.L50)/2
 173 0080 2100     		.2byte	(.L69-.L50)/2
 174 0082 2100     		.2byte	(.L69-.L50)/2
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 16


 175 0084 2100     		.2byte	(.L69-.L50)/2
 176 0086 2100     		.2byte	(.L69-.L50)/2
 177 0088 AB00     		.2byte	(.L72-.L50)/2
 178 008a 2100     		.2byte	(.L69-.L50)/2
 179 008c 2100     		.2byte	(.L69-.L50)/2
 180 008e 2100     		.2byte	(.L69-.L50)/2
 181 0090 2100     		.2byte	(.L69-.L50)/2
 182 0092 2100     		.2byte	(.L69-.L50)/2
 183 0094 2100     		.2byte	(.L69-.L50)/2
 184 0096 2100     		.2byte	(.L69-.L50)/2
 185 0098 2100     		.2byte	(.L69-.L50)/2
 186 009a 2100     		.2byte	(.L69-.L50)/2
 187 009c D901     		.2byte	(.L51-.L50)/2
 188 009e 2100     		.2byte	(.L69-.L50)/2
 189 00a0 4201     		.2byte	(.L73-.L50)/2
 190 00a2 2100     		.2byte	(.L69-.L50)/2
 191 00a4 2100     		.2byte	(.L69-.L50)/2
 192 00a6 4800     		.2byte	(.L49-.L50)/2
 193              		.p2align 1
 194              	.L69:
 195 00a8 6146     		mov	r1, ip
 196 00aa 4FF0FF34 		mov	r4, #-1
 197              	.LVL11:
 198              	.L9:
 616:user/trace/tiny_vsnprintf.c ****         CHECK_STR_SIZE(buf, str, size);
 199              		.loc 1 616 9 view .LVU48
 616:user/trace/tiny_vsnprintf.c ****         CHECK_STR_SIZE(buf, str, size);
 200              		.loc 1 616 12 is_stmt 0 view .LVU49
 201 00ae 2529     		cmp	r1, #37
 202 00b0 00F0A081 		beq	.L29
 616:user/trace/tiny_vsnprintf.c ****         CHECK_STR_SIZE(buf, str, size);
 203              		.loc 1 616 26 is_stmt 1 discriminator 1 view .LVU50
 204              	.LVL12:
 616:user/trace/tiny_vsnprintf.c ****         CHECK_STR_SIZE(buf, str, size);
 205              		.loc 1 616 33 is_stmt 0 discriminator 1 view .LVU51
 206 00b4 2523     		movs	r3, #37
 207 00b6 0BF8013B 		strb	r3, [fp], #1
 208              	.LVL13:
 617:user/trace/tiny_vsnprintf.c ****         if (*fmt)
 209              		.loc 1 617 9 is_stmt 1 discriminator 1 view .LVU52
 210 00ba 019B     		ldr	r3, [sp, #4]
 211 00bc 029A     		ldr	r2, [sp, #8]
 212 00be ABEB0303 		sub	r3, fp, r3
 213 00c2 9342     		cmp	r3, r2
 214 00c4 C0F29181 		blt	.L30
 448:user/trace/tiny_vsnprintf.c ****   {
 215              		.loc 1 448 55 is_stmt 0 view .LVU53
 216 00c8 05F1010A 		add	r10, r5, #1
 217 00cc 0A25     		movs	r5, #10
 218              	.LVL14:
 448:user/trace/tiny_vsnprintf.c ****   {
 219              		.loc 1 448 55 view .LVU54
 220 00ce 17E0     		b	.L31
 221              	.LVL15:
 222              	.L15:
 540:user/trace/tiny_vsnprintf.c ****         *str++ = (unsigned char) va_arg(args, int);
 223              		.loc 1 540 17 is_stmt 1 view .LVU55
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 17


 540:user/trace/tiny_vsnprintf.c ****         *str++ = (unsigned char) va_arg(args, int);
 224              		.loc 1 540 17 is_stmt 0 view .LVU56
 225 00d0 312A     		cmp	r2, #49
 226 00d2 07DD     		ble	.L17
 540:user/trace/tiny_vsnprintf.c ****         *str++ = (unsigned char) va_arg(args, int);
 227              		.loc 1 540 44 view .LVU57
 228 00d4 A2F13104 		sub	r4, r2, #49
 229              	.LVL16:
 540:user/trace/tiny_vsnprintf.c ****         *str++ = (unsigned char) va_arg(args, int);
 230              		.loc 1 540 44 view .LVU58
 231 00d8 5846     		mov	r0, fp
 232 00da 2246     		mov	r2, r4
 233 00dc 2021     		movs	r1, #32
 234 00de FFF7FEFF 		bl	memset
 235              	.LVL17:
 540:user/trace/tiny_vsnprintf.c ****         *str++ = (unsigned char) va_arg(args, int);
 236              		.loc 1 540 41 view .LVU59
 237 00e2 A344     		add	fp, fp, r4
 238              	.L17:
 541:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 239              		.loc 1 541 9 is_stmt 1 view .LVU60
 541:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 240              		.loc 1 541 34 is_stmt 0 view .LVU61
 241 00e4 039B     		ldr	r3, [sp, #12]
 242              	.LVL18:
 448:user/trace/tiny_vsnprintf.c ****   {
 243              		.loc 1 448 55 view .LVU62
 244 00e6 05F1010A 		add	r10, r5, #1
 541:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 245              		.loc 1 541 18 view .LVU63
 246 00ea 53F8042B 		ldr	r2, [r3], #4
 247              	.LVL19:
 541:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 248              		.loc 1 541 18 view .LVU64
 249 00ee 0BF8012B 		strb	r2, [fp], #1
 250              	.LVL20:
 546:user/trace/tiny_vsnprintf.c **** 
 251              		.loc 1 546 9 is_stmt 1 view .LVU65
 541:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 252              		.loc 1 541 34 is_stmt 0 view .LVU66
 253 00f2 0393     		str	r3, [sp, #12]
 546:user/trace/tiny_vsnprintf.c **** 
 254              		.loc 1 546 9 view .LVU67
 255 00f4 90E7     		b	.L3
 256              	.LVL21:
 257              	.L49:
 448:user/trace/tiny_vsnprintf.c ****   {
 258              		.loc 1 448 55 view .LVU68
 259 00f6 1025     		movs	r5, #16
 260              	.LVL22:
 448:user/trace/tiny_vsnprintf.c ****   {
 261              		.loc 1 448 55 view .LVU69
 262 00f8 4FF0FF34 		mov	r4, #-1
 263 00fc 0AF1020A 		add	r10, r10, #2
 264              	.LVL23:
 265              	.L31:
 626:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned long);
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 18


 266              		.loc 1 626 5 is_stmt 1 view .LVU70
 628:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, int);
 267              		.loc 1 628 10 view .LVU71
 631:user/trace/tiny_vsnprintf.c **** 
 268              		.loc 1 631 7 view .LVU72
 633:user/trace/tiny_vsnprintf.c ****   }
 269              		.loc 1 633 11 is_stmt 0 view .LVU73
 270 0100 DDE90220 		ldrd	r2, r0, [sp, #8]
 271 0104 50F8041B 		ldr	r1, [r0], #4
 272 0108 D31A     		subs	r3, r2, r3
 273              	.LVL24:
 274              	.LBB8:
 275              	.LBI8:
  43:user/trace/tiny_vsnprintf.c **** {
 276              		.loc 1 43 14 is_stmt 1 view .LVU74
 277              	.LBB9:
  45:user/trace/tiny_vsnprintf.c ****   char sign, tmp[66];
 278              		.loc 1 45 3 view .LVU75
  46:user/trace/tiny_vsnprintf.c ****   char *dig = lower_digits;
 279              		.loc 1 46 3 view .LVU76
  47:user/trace/tiny_vsnprintf.c ****   int i;
 280              		.loc 1 47 3 view .LVU77
  48:user/trace/tiny_vsnprintf.c **** 
 281              		.loc 1 48 3 view .LVU78
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 282              		.loc 1 50 3 view .LVU79
 283 010a F8E0     		b	.L32
 284              	.LVL25:
 285              	.L108:
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 286              		.loc 1 50 3 is_stmt 0 view .LVU80
 287              	.LBE9:
 288              	.LBE8:
 289 010c 6146     		mov	r1, ip
 290              	.LBB20:
 291              	.LBB21:
  36:user/trace/tiny_vsnprintf.c ****   while (is_digit(**s)) i = i*10 + *((*s)++) - '0';
 292              		.loc 1 36 7 view .LVU81
 293 010e 0024     		movs	r4, #0
 294              	.LVL26:
 295              	.L8:
  37:user/trace/tiny_vsnprintf.c ****   return i;
 296              		.loc 1 37 25 is_stmt 1 view .LVU82
  37:user/trace/tiny_vsnprintf.c ****   return i;
 297              		.loc 1 37 30 is_stmt 0 view .LVU83
 298 0110 04EB8404 		add	r4, r4, r4, lsl #2
  37:user/trace/tiny_vsnprintf.c ****   return i;
 299              		.loc 1 37 34 view .LVU84
 300 0114 01EB4402 		add	r2, r1, r4, lsl #1
 301 0118 AA46     		mov	r10, r5
 302              	.LVL27:
  37:user/trace/tiny_vsnprintf.c ****   return i;
 303              		.loc 1 37 10 view .LVU85
 304 011a 15F8011F 		ldrb	r1, [r5, #1]!	@ zero_extendqisi2
 305              	.LVL28:
  37:user/trace/tiny_vsnprintf.c ****   return i;
 306              		.loc 1 37 27 view .LVU86
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 19


 307 011e A2F13004 		sub	r4, r2, #48
 308              	.LVL29:
  37:user/trace/tiny_vsnprintf.c ****   return i;
 309              		.loc 1 37 9 is_stmt 1 view .LVU87
 310 0122 A1F13000 		sub	r0, r1, #48
 311 0126 0928     		cmp	r0, #9
 312 0128 F2D9     		bls	.L8
 313              	.LVL30:
  37:user/trace/tiny_vsnprintf.c ****   return i;
 314              		.loc 1 37 9 is_stmt 0 view .LVU88
 315              	.LBE21:
 316              	.LBE20:
 500:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 317              		.loc 1 500 5 is_stmt 1 view .LVU89
 519:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 318              		.loc 1 519 5 view .LVU90
 531:user/trace/tiny_vsnprintf.c **** 
 319              		.loc 1 531 5 view .LVU91
 533:user/trace/tiny_vsnprintf.c ****     {
 320              		.loc 1 533 5 view .LVU92
 321 012a A1F15800 		sub	r0, r1, #88
 322 012e 2028     		cmp	r0, #32
 323 0130 BDD8     		bhi	.L9
 324 0132 01A6     		adr	r6, .L11
 325 0134 56F820F0 		ldr	pc, [r6, r0, lsl #2]
 326              		.p2align 2
 327              	.L11:
 328 0138 83020000 		.word	.L16+1
 329 013c AF000000 		.word	.L9+1
 330 0140 AF000000 		.word	.L9+1
 331 0144 AF000000 		.word	.L9+1
 332 0148 AF000000 		.word	.L9+1
 333 014c AF000000 		.word	.L9+1
 334 0150 AF000000 		.word	.L9+1
 335 0154 AF000000 		.word	.L9+1
 336 0158 AF000000 		.word	.L9+1
 337 015c AF000000 		.word	.L9+1
 338 0160 AF000000 		.word	.L9+1
 339 0164 D1000000 		.word	.L15+1
 340 0168 C1010000 		.word	.L14+1
 341 016c AF000000 		.word	.L9+1
 342 0170 AF000000 		.word	.L9+1
 343 0174 AF000000 		.word	.L9+1
 344 0178 AF000000 		.word	.L9+1
 345 017c C1010000 		.word	.L14+1
 346 0180 AF000000 		.word	.L9+1
 347 0184 AF000000 		.word	.L9+1
 348 0188 AF000000 		.word	.L9+1
 349 018c AF000000 		.word	.L9+1
 350 0190 AF000000 		.word	.L9+1
 351 0194 AF000000 		.word	.L9+1
 352 0198 AF000000 		.word	.L9+1
 353 019c AF000000 		.word	.L9+1
 354 01a0 AF000000 		.word	.L9+1
 355 01a4 1F030000 		.word	.L13+1
 356 01a8 AF000000 		.word	.L9+1
 357 01ac EF020000 		.word	.L12+1
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 20


 358 01b0 AF000000 		.word	.L9+1
 359 01b4 AF000000 		.word	.L9+1
 360 01b8 3D040000 		.word	.L10+1
 361              	.LVL31:
 362              		.p2align 1
 363              	.L72:
 533:user/trace/tiny_vsnprintf.c ****     {
 364              		.loc 1 533 5 is_stmt 0 view .LVU93
 365 01bc 4FF0FF34 		mov	r4, #-1
 366              	.LVL32:
 367              	.L14:
 602:user/trace/tiny_vsnprintf.c **** 
 368              		.loc 1 602 9 is_stmt 1 view .LVU94
 626:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned long);
 369              		.loc 1 626 5 view .LVU95
 628:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, int);
 370              		.loc 1 628 10 view .LVU96
 629:user/trace/tiny_vsnprintf.c ****     else
 371              		.loc 1 629 7 view .LVU97
 629:user/trace/tiny_vsnprintf.c ****     else
 372              		.loc 1 629 13 is_stmt 0 view .LVU98
 373 01c0 0398     		ldr	r0, [sp, #12]
 374              	.LVL33:
 633:user/trace/tiny_vsnprintf.c ****   }
 375              		.loc 1 633 11 view .LVU99
 376 01c2 029A     		ldr	r2, [sp, #8]
 629:user/trace/tiny_vsnprintf.c ****     else
 377              		.loc 1 629 13 view .LVU100
 378 01c4 50F8041B 		ldr	r1, [r0], #4
 379              	.LVL34:
 380              	.LBB22:
 381              	.LBB10:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 382              		.loc 1 57 5 view .LVU101
 383 01c8 BCF1300F 		cmp	ip, #48
 384              	.LVL35:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 385              		.loc 1 57 5 view .LVU102
 386              	.LBE10:
 387              	.LBE22:
 633:user/trace/tiny_vsnprintf.c ****   }
 388              		.loc 1 633 5 is_stmt 1 view .LVU103
 389              	.LBB23:
  43:user/trace/tiny_vsnprintf.c **** {
 390              		.loc 1 43 14 view .LVU104
 391              	.LBB11:
  45:user/trace/tiny_vsnprintf.c ****   char sign, tmp[66];
 392              		.loc 1 45 3 view .LVU105
  46:user/trace/tiny_vsnprintf.c ****   char *dig = lower_digits;
 393              		.loc 1 46 3 view .LVU106
  47:user/trace/tiny_vsnprintf.c ****   int i;
 394              		.loc 1 47 3 view .LVU107
  48:user/trace/tiny_vsnprintf.c **** 
 395              		.loc 1 48 3 view .LVU108
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 396              		.loc 1 50 3 view .LVU109
  55:user/trace/tiny_vsnprintf.c **** 
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 21


 397              		.loc 1 55 3 view .LVU110
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 398              		.loc 1 57 3 view .LVU111
 399              	.LBE11:
 400              	.LBE23:
 633:user/trace/tiny_vsnprintf.c ****   }
 401              		.loc 1 633 11 is_stmt 0 view .LVU112
 402 01cc A2EB0303 		sub	r3, r2, r3
 403              	.LVL36:
 404              	.LBB24:
 405              	.LBB12:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 406              		.loc 1 57 5 view .LVU113
 407 01d0 AF4A     		ldr	r2, .L113
 408              	.LVL37:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 409              		.loc 1 57 5 view .LVU114
 410 01d2 0CBF     		ite	eq
 411 01d4 4FF03009 		moveq	r9, #48
 412 01d8 4FF02009 		movne	r9, #32
 413              	.LVL38:
  61:user/trace/tiny_vsnprintf.c ****     {
 414              		.loc 1 61 5 is_stmt 1 view .LVU115
  61:user/trace/tiny_vsnprintf.c ****     {
 415              		.loc 1 61 8 is_stmt 0 view .LVU116
 416 01dc 0029     		cmp	r1, #0
 417              	.LBE12:
 418              	.LBE24:
 448:user/trace/tiny_vsnprintf.c ****   {
 419              		.loc 1 448 55 view .LVU117
 420 01de 05F1010A 		add	r10, r5, #1
 421              	.LBB25:
 422              	.LBB13:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 423              		.loc 1 57 5 view .LVU118
 424 01e2 1646     		mov	r6, r2
 425 01e4 4FF00A05 		mov	r5, #10
 426              	.LVL39:
  61:user/trace/tiny_vsnprintf.c ****     {
 427              		.loc 1 61 8 view .LVU119
 428 01e8 C0F2F380 		blt	.L109
 429              	.LVL40:
 430              	.L33:
  93:user/trace/tiny_vsnprintf.c **** 
 431              		.loc 1 93 3 is_stmt 1 view .LVU120
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 432              		.loc 1 95 3 view .LVU121
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 433              		.loc 1 95 6 is_stmt 0 view .LVU122
 434 01ec 0029     		cmp	r1, #0
 435 01ee 5BD1     		bne	.L55
 436              	.LVL41:
 437              	.L35:
  96:user/trace/tiny_vsnprintf.c ****   else
 438              		.loc 1 96 5 is_stmt 1 view .LVU123
  96:user/trace/tiny_vsnprintf.c ****   else
 439              		.loc 1 96 14 is_stmt 0 view .LVU124
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 22


 440 01f0 3022     		movs	r2, #48
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 441              		.loc 1 108 6 view .LVU125
 442 01f2 9445     		cmp	ip, r2
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 443              		.loc 1 107 8 view .LVU126
 444 01f4 04F1FF34 		add	r4, r4, #-1
  96:user/trace/tiny_vsnprintf.c ****   else
 445              		.loc 1 96 14 view .LVU127
 446 01f8 8DF81C20 		strb	r2, [sp, #28]
 106:user/trace/tiny_vsnprintf.c ****   size -= precision;
 447              		.loc 1 106 3 is_stmt 1 view .LVU128
 448              	.LVL42:
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 449              		.loc 1 107 3 view .LVU129
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 450              		.loc 1 108 3 view .LVU130
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 451              		.loc 1 108 6 is_stmt 0 view .LVU131
 452 01fc 0390     		str	r0, [sp, #12]
 453 01fe 19D0     		beq	.L38
 454 0200 0491     		str	r1, [sp, #16]
 455              	.LVL43:
 456              	.L37:
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 457              		.loc 1 107 8 view .LVU132
 458 0202 5A46     		mov	r2, fp
 459 0204 0BF1FF35 		add	r5, fp, #-1
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 460              		.loc 1 108 74 view .LVU133
 461 0208 2026     		movs	r6, #32
 462 020a 2544     		add	r5, r5, r4
 463 020c 1719     		adds	r7, r2, r4
 464 020e 04E0     		b	.L40
 465              	.LVL44:
 466              	.L42:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 467              		.loc 1 108 74 view .LVU134
 468 0210 013B     		subs	r3, r3, #1
 469 0212 02F8016B 		strb	r6, [r2], #1
 470              	.LVL45:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 471              		.loc 1 108 74 is_stmt 1 view .LVU135
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 472              		.loc 1 108 74 view .LVU136
 473 0216 00F0DA80 		beq	.L64
 474              	.LVL46:
 475              	.L40:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 476              		.loc 1 108 74 view .LVU137
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 477              		.loc 1 108 74 view .LVU138
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 478              		.loc 1 108 74 view .LVU139
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 479              		.loc 1 108 61 view .LVU140
 480 021a B81A     		subs	r0, r7, r2
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 23


 481 021c 0028     		cmp	r0, #0
 482 021e A5EB0204 		sub	r4, r5, r2
 483              	.LVL47:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 484              		.loc 1 108 61 is_stmt 0 view .LVU141
 485 0222 F5DC     		bgt	.L42
 486              	.LVL48:
 487              	.L39:
 109:user/trace/tiny_vsnprintf.c **** 
 488              		.loc 1 109 3 is_stmt 1 view .LVU142
 109:user/trace/tiny_vsnprintf.c **** 
 489              		.loc 1 109 6 is_stmt 0 view .LVU143
 490 0224 0498     		ldr	r0, [sp, #16]
 109:user/trace/tiny_vsnprintf.c **** 
 491              		.loc 1 109 13 view .LVU144
 492 0226 9346     		mov	fp, r2
 109:user/trace/tiny_vsnprintf.c **** 
 493              		.loc 1 109 6 view .LVU145
 494 0228 20B1     		cbz	r0, .L38
 109:user/trace/tiny_vsnprintf.c **** 
 495              		.loc 1 109 13 is_stmt 1 view .LVU146
 109:user/trace/tiny_vsnprintf.c **** 
 496              		.loc 1 109 13 view .LVU147
 497              	.LVL49:
 109:user/trace/tiny_vsnprintf.c **** 
 498              		.loc 1 109 13 is_stmt 0 view .LVU148
 499 022a 013B     		subs	r3, r3, #1
 500 022c 0BF8010B 		strb	r0, [fp], #1
 501              	.LVL50:
 109:user/trace/tiny_vsnprintf.c **** 
 502              		.loc 1 109 13 is_stmt 1 view .LVU149
 109:user/trace/tiny_vsnprintf.c **** 
 503              		.loc 1 109 13 view .LVU150
 504 0230 3FF4F2AE 		beq	.L3
 505              	.LVL51:
 506              	.L38:
 109:user/trace/tiny_vsnprintf.c **** 
 507              		.loc 1 109 13 is_stmt 0 view .LVU151
 508 0234 5C44     		add	r4, r4, fp
 509 0236 04E0     		b	.L43
 510              	.LVL52:
 511              	.L44:
 126:user/trace/tiny_vsnprintf.c **** #else
 512              		.loc 1 126 22 view .LVU152
 513 0238 013B     		subs	r3, r3, #1
 514 023a 0BF8019B 		strb	r9, [fp], #1
 515              	.LVL53:
 126:user/trace/tiny_vsnprintf.c **** #else
 516              		.loc 1 126 22 is_stmt 1 view .LVU153
 126:user/trace/tiny_vsnprintf.c **** #else
 517              		.loc 1 126 22 view .LVU154
 518 023e 3FF4EBAE 		beq	.L3
 519              	.LVL54:
 520              	.L43:
 126:user/trace/tiny_vsnprintf.c **** #else
 521              		.loc 1 126 22 view .LVU155
 126:user/trace/tiny_vsnprintf.c **** #else
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 24


 522              		.loc 1 126 22 view .LVU156
 126:user/trace/tiny_vsnprintf.c **** #else
 523              		.loc 1 126 22 view .LVU157
 126:user/trace/tiny_vsnprintf.c **** #else
 524              		.loc 1 126 9 view .LVU158
 126:user/trace/tiny_vsnprintf.c **** #else
 525              		.loc 1 126 9 is_stmt 0 view .LVU159
 526 0242 A4EB0B02 		sub	r2, r4, fp
 527 0246 002A     		cmp	r2, #0
 528 0248 F6DC     		bgt	.L44
 529 024a 01F16002 		add	r2, r1, #96
 530 024e 0DEB0200 		add	r0, sp, r2
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 531              		.loc 1 131 9 view .LVU160
 532 0252 0231     		adds	r1, r1, #2
 533 0254 5B44     		add	r3, r3, fp
 534 0256 4338     		subs	r0, r0, #67
 535 0258 5944     		add	r1, r1, fp
 536 025a 0BF10102 		add	r2, fp, #1
 537              	.LVL55:
 538              	.L45:
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 539              		.loc 1 131 19 is_stmt 1 view .LVU161
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 540              		.loc 1 131 19 view .LVU162
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 541              		.loc 1 131 19 view .LVU163
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 542              		.loc 1 131 9 view .LVU164
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 543              		.loc 1 131 19 is_stmt 0 view .LVU165
 544 025e 10F8014D 		ldrb	r4, [r0, #-1]!	@ zero_extendqisi2
 545 0262 9346     		mov	fp, r2
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 546              		.loc 1 131 19 view .LVU166
 547 0264 02F8014C 		strb	r4, [r2, #-1]
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 548              		.loc 1 131 19 is_stmt 1 view .LVU167
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 549              		.loc 1 131 19 view .LVU168
 550 0268 9A42     		cmp	r2, r3
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 551              		.loc 1 131 9 is_stmt 0 view .LVU169
 552 026a 02F10102 		add	r2, r2, #1
 553              	.LVL56:
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 554              		.loc 1 131 9 view .LVU170
 555 026e A1EB0204 		sub	r4, r1, r2
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 556              		.loc 1 131 19 view .LVU171
 557 0272 3FF4D1AE 		beq	.L3
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 558              		.loc 1 131 9 view .LVU172
 559 0276 002C     		cmp	r4, #0
 560 0278 7FF7CEAE 		ble	.L3
 561 027c EFE7     		b	.L45
 562              	.LVL57:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 25


 563              	.L70:
 131:user/trace/tiny_vsnprintf.c ****   while (size-- > 0) ASSIGN_STR(' ');
 564              		.loc 1 131 9 view .LVU173
 565              	.LBE13:
 566              	.LBE25:
 533:user/trace/tiny_vsnprintf.c ****     {
 567              		.loc 1 533 5 view .LVU174
 568 027e 4FF0FF34 		mov	r4, #-1
 569              	.LVL58:
 570              	.L16:
 594:user/trace/tiny_vsnprintf.c **** 
 571              		.loc 1 594 9 is_stmt 1 view .LVU175
 631:user/trace/tiny_vsnprintf.c **** 
 572              		.loc 1 631 11 is_stmt 0 view .LVU176
 573 0282 0398     		ldr	r0, [sp, #12]
 633:user/trace/tiny_vsnprintf.c ****   }
 574              		.loc 1 633 11 view .LVU177
 575 0284 029A     		ldr	r2, [sp, #8]
 576              	.LBB26:
 577              	.LBB14:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 578              		.loc 1 57 5 view .LVU178
 579 0286 BCF1300F 		cmp	ip, #48
 580              	.LBE14:
 581              	.LBE26:
 633:user/trace/tiny_vsnprintf.c ****   }
 582              		.loc 1 633 11 view .LVU179
 583 028a 50F8041B 		ldr	r1, [r0], #4
 448:user/trace/tiny_vsnprintf.c ****   {
 584              		.loc 1 448 55 view .LVU180
 585 028e 05F1010A 		add	r10, r5, #1
 586              	.LVL59:
 626:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned long);
 587              		.loc 1 626 5 is_stmt 1 view .LVU181
 628:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, int);
 588              		.loc 1 628 10 view .LVU182
 631:user/trace/tiny_vsnprintf.c **** 
 589              		.loc 1 631 7 view .LVU183
 633:user/trace/tiny_vsnprintf.c ****   }
 590              		.loc 1 633 5 view .LVU184
 633:user/trace/tiny_vsnprintf.c ****   }
 591              		.loc 1 633 11 is_stmt 0 view .LVU185
 592 0292 A2EB0303 		sub	r3, r2, r3
 593              	.LVL60:
 594              	.LBB27:
  43:user/trace/tiny_vsnprintf.c **** {
 595              		.loc 1 43 14 is_stmt 1 view .LVU186
 596              	.LBB15:
  45:user/trace/tiny_vsnprintf.c ****   char sign, tmp[66];
 597              		.loc 1 45 3 view .LVU187
  46:user/trace/tiny_vsnprintf.c ****   char *dig = lower_digits;
 598              		.loc 1 46 3 view .LVU188
  47:user/trace/tiny_vsnprintf.c ****   int i;
 599              		.loc 1 47 3 view .LVU189
  48:user/trace/tiny_vsnprintf.c **** 
 600              		.loc 1 48 3 view .LVU190
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 26


 601              		.loc 1 50 3 view .LVU191
  55:user/trace/tiny_vsnprintf.c **** 
 602              		.loc 1 55 3 view .LVU192
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 603              		.loc 1 57 3 view .LVU193
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 604              		.loc 1 57 5 is_stmt 0 view .LVU194
 605 0296 00F09380 		beq	.L26
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 606              		.loc 1 50 30 view .LVU195
 607 029a 7E4A     		ldr	r2, .L113+4
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 608              		.loc 1 57 5 view .LVU196
 609 029c 1025     		movs	r5, #16
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 610              		.loc 1 50 30 view .LVU197
 611 029e 1646     		mov	r6, r2
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 612              		.loc 1 57 5 view .LVU198
 613 02a0 4FF02009 		mov	r9, #32
 614              	.LVL61:
  93:user/trace/tiny_vsnprintf.c **** 
 615              		.loc 1 93 3 is_stmt 1 view .LVU199
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 616              		.loc 1 95 3 view .LVU200
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 617              		.loc 1 95 6 is_stmt 0 view .LVU201
 618 02a4 0029     		cmp	r1, #0
 619 02a6 A3D0     		beq	.L35
 620              	.LVL62:
 621              	.L55:
  63:user/trace/tiny_vsnprintf.c ****       num = -num;
 622              		.loc 1 63 12 view .LVU202
 623 02a8 0390     		str	r0, [sp, #12]
 624 02aa 0846     		mov	r0, r1
 625 02ac 0021     		movs	r1, #0
 626 02ae 5A46     		mov	r2, fp
 627 02b0 0491     		str	r1, [sp, #16]
 628              	.LVL63:
 629              	.L34:
  99:user/trace/tiny_vsnprintf.c ****     {
 630              		.loc 1 99 11 is_stmt 1 view .LVU203
  93:user/trace/tiny_vsnprintf.c **** 
 631              		.loc 1 93 5 is_stmt 0 view .LVU204
 632 02b2 0027     		movs	r7, #0
 633 02b4 B046     		mov	r8, r6
 634 02b6 0DF11C0E 		add	lr, sp, #28
 635 02ba CDF814C0 		str	ip, [sp, #20]
 636              	.LVL64:
 637              	.L36:
 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 638              		.loc 1 101 7 is_stmt 1 view .LVU205
 639 02be 3946     		mov	r1, r7
 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 640              		.loc 1 101 44 is_stmt 0 view .LVU206
 641 02c0 B0FBF5F7 		udiv	r7, r0, r5
 642              	.LVL65:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 27


 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 643              		.loc 1 101 23 view .LVU207
 644 02c4 0646     		mov	r6, r0
 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 645              		.loc 1 101 44 view .LVU208
 646 02c6 05FB170C 		mls	ip, r5, r7, r0
 102:user/trace/tiny_vsnprintf.c ****     }
 647              		.loc 1 102 35 view .LVU209
 648 02ca 3846     		mov	r0, r7
 649              	.LVL66:
 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 650              		.loc 1 101 16 view .LVU210
 651 02cc 18F80C70 		ldrb	r7, [r8, ip]	@ zero_extendqisi2
  99:user/trace/tiny_vsnprintf.c ****     {
 652              		.loc 1 99 11 view .LVU211
 653 02d0 AE42     		cmp	r6, r5
 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 654              		.loc 1 101 16 view .LVU212
 655 02d2 0EF8017B 		strb	r7, [lr], #1
 101:user/trace/tiny_vsnprintf.c ****       num = ((unsigned long) num) / (unsigned) base;
 656              		.loc 1 101 12 view .LVU213
 657 02d6 01F10107 		add	r7, r1, #1
 658              	.LVL67:
 102:user/trace/tiny_vsnprintf.c ****     }
 659              		.loc 1 102 7 is_stmt 1 view .LVU214
  99:user/trace/tiny_vsnprintf.c ****     {
 660              		.loc 1 99 11 view .LVU215
 661 02da F0D2     		bcs	.L36
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 662              		.loc 1 107 8 is_stmt 0 view .LVU216
 663 02dc DDF814C0 		ldr	ip, [sp, #20]
 106:user/trace/tiny_vsnprintf.c ****   size -= precision;
 664              		.loc 1 106 3 is_stmt 1 view .LVU217
 665              	.LVL68:
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 666              		.loc 1 107 3 view .LVU218
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 667              		.loc 1 107 8 is_stmt 0 view .LVU219
 668 02e0 E41B     		subs	r4, r4, r7
 669              	.LVL69:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 670              		.loc 1 108 3 is_stmt 1 view .LVU220
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 671              		.loc 1 108 6 is_stmt 0 view .LVU221
 672 02e2 BCF1300F 		cmp	ip, #48
 673 02e6 9DD0     		beq	.L39
 674 02e8 8BE7     		b	.L37
 675              	.LVL70:
 676              	.L73:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 677              		.loc 1 108 6 view .LVU222
 678              	.LBE15:
 679              	.LBE27:
 533:user/trace/tiny_vsnprintf.c ****     {
 680              		.loc 1 533 5 view .LVU223
 681 02ea 4FF0FF34 		mov	r4, #-1
 682              	.LVL71:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 28


 683              	.L12:
 626:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned long);
 684              		.loc 1 626 5 is_stmt 1 view .LVU224
 628:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, int);
 685              		.loc 1 628 10 view .LVU225
 448:user/trace/tiny_vsnprintf.c ****   {
 686              		.loc 1 448 55 is_stmt 0 view .LVU226
 687 02ee 05F1010A 		add	r10, r5, #1
 688              	.LVL72:
 631:user/trace/tiny_vsnprintf.c **** 
 689              		.loc 1 631 7 is_stmt 1 view .LVU227
 633:user/trace/tiny_vsnprintf.c ****   }
 690              		.loc 1 633 11 is_stmt 0 view .LVU228
 691 02f2 0A25     		movs	r5, #10
 631:user/trace/tiny_vsnprintf.c **** 
 692              		.loc 1 631 11 view .LVU229
 693 02f4 0398     		ldr	r0, [sp, #12]
 694              	.LVL73:
 633:user/trace/tiny_vsnprintf.c ****   }
 695              		.loc 1 633 5 is_stmt 1 view .LVU230
 633:user/trace/tiny_vsnprintf.c ****   }
 696              		.loc 1 633 11 is_stmt 0 view .LVU231
 697 02f6 029A     		ldr	r2, [sp, #8]
 698 02f8 50F8041B 		ldr	r1, [r0], #4
 699              	.LVL74:
 633:user/trace/tiny_vsnprintf.c ****   }
 700              		.loc 1 633 11 view .LVU232
 701 02fc D31A     		subs	r3, r2, r3
 702              	.LVL75:
 703              	.LBB28:
  43:user/trace/tiny_vsnprintf.c **** {
 704              		.loc 1 43 14 is_stmt 1 view .LVU233
 705              	.LBB16:
  45:user/trace/tiny_vsnprintf.c ****   char sign, tmp[66];
 706              		.loc 1 45 3 view .LVU234
  46:user/trace/tiny_vsnprintf.c ****   char *dig = lower_digits;
 707              		.loc 1 46 3 view .LVU235
  47:user/trace/tiny_vsnprintf.c ****   int i;
 708              		.loc 1 47 3 view .LVU236
  48:user/trace/tiny_vsnprintf.c **** 
 709              		.loc 1 48 3 view .LVU237
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 710              		.loc 1 50 3 view .LVU238
 711              	.L32:
  55:user/trace/tiny_vsnprintf.c **** 
 712              		.loc 1 55 3 view .LVU239
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 713              		.loc 1 57 3 view .LVU240
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 714              		.loc 1 57 5 is_stmt 0 view .LVU241
 715 02fe BCF1300F 		cmp	ip, #48
 716 0302 00F0BC80 		beq	.L74
 717              	.LVL76:
  58:user/trace/tiny_vsnprintf.c ****   if (type & SIGN)
 718              		.loc 1 58 3 is_stmt 1 view .LVU242
  59:user/trace/tiny_vsnprintf.c ****   {
 719              		.loc 1 59 3 view .LVU243
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 29


  93:user/trace/tiny_vsnprintf.c **** 
 720              		.loc 1 93 3 view .LVU244
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 721              		.loc 1 95 3 view .LVU245
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 722              		.loc 1 95 6 is_stmt 0 view .LVU246
 723 0306 0029     		cmp	r1, #0
 724 0308 40F0BD80 		bne	.L110
  96:user/trace/tiny_vsnprintf.c ****   else
 725              		.loc 1 96 5 is_stmt 1 view .LVU247
 726              	.LVL77:
  96:user/trace/tiny_vsnprintf.c ****   else
 727              		.loc 1 96 14 is_stmt 0 view .LVU248
 728 030c 3022     		movs	r2, #48
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 729              		.loc 1 57 5 view .LVU249
 730 030e 4FF02009 		mov	r9, #32
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 731              		.loc 1 107 8 view .LVU250
 732 0312 0390     		str	r0, [sp, #12]
 733 0314 013C     		subs	r4, r4, #1
  96:user/trace/tiny_vsnprintf.c ****   else
 734              		.loc 1 96 14 view .LVU251
 735 0316 8DF81C20 		strb	r2, [sp, #28]
 106:user/trace/tiny_vsnprintf.c ****   size -= precision;
 736              		.loc 1 106 3 is_stmt 1 view .LVU252
 737              	.LVL78:
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 738              		.loc 1 107 3 view .LVU253
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 739              		.loc 1 108 3 view .LVU254
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 740              		.loc 1 107 8 is_stmt 0 view .LVU255
 741 031a 0491     		str	r1, [sp, #16]
 742 031c 71E7     		b	.L37
 743              	.LVL79:
 744              	.L13:
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 745              		.loc 1 107 8 view .LVU256
 746              	.LBE16:
 747              	.LBE28:
 549:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 748              		.loc 1 549 11 view .LVU257
 749 031e DDF80C80 		ldr	r8, [sp, #12]
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 750              		.loc 1 557 35 view .LVU258
 751 0322 A2F13106 		sub	r6, r2, #49
 549:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 752              		.loc 1 549 9 is_stmt 1 view .LVU259
 753              	.LVL80:
 549:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 754              		.loc 1 549 11 is_stmt 0 view .LVU260
 755 0326 58F8049B 		ldr	r9, [r8], #4
 756              	.LVL81:
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 757              		.loc 1 550 9 is_stmt 1 view .LVU261
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 30


 758              		.loc 1 550 12 is_stmt 0 view .LVU262
 759 032a B9F1000F 		cmp	r9, #0
 760 032e 7FD0     		beq	.L18
 761              	.LVL82:
 552:user/trace/tiny_vsnprintf.c **** #else
 762              		.loc 1 552 9 is_stmt 1 view .LVU263
 552:user/trace/tiny_vsnprintf.c **** #else
 763              		.loc 1 552 15 is_stmt 0 view .LVU264
 764 0330 4846     		mov	r0, r9
 765 0332 FFF7FEFF 		bl	strlen
 766              	.LVL83:
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 767              		.loc 1 557 17 view .LVU265
 768 0336 A042     		cmp	r0, r4
 552:user/trace/tiny_vsnprintf.c **** #else
 769              		.loc 1 552 15 view .LVU266
 770 0338 0746     		mov	r7, r0
 771              	.LVL84:
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 772              		.loc 1 557 11 is_stmt 1 view .LVU267
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 773              		.loc 1 557 17 view .LVU268
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 774              		.loc 1 557 17 is_stmt 0 view .LVU269
 775 033a 08DA     		bge	.L19
 776              	.LVL85:
 777              	.L47:
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 778              		.loc 1 557 46 view .LVU270
 779 033c E21B     		subs	r2, r4, r7
 780 033e BE42     		cmp	r6, r7
 781 0340 B8BF     		it	lt
 782 0342 0122     		movlt	r2, #1
 783 0344 5846     		mov	r0, fp
 784 0346 2021     		movs	r1, #32
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 785              		.loc 1 557 43 view .LVU271
 786 0348 9344     		add	fp, fp, r2
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 787              		.loc 1 557 46 view .LVU272
 788 034a FFF7FEFF 		bl	memset
 789              	.LVL86:
 790              	.L19:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 791              		.loc 1 558 21 is_stmt 1 view .LVU273
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 792              		.loc 1 558 9 is_stmt 0 view .LVU274
 793 034e 002F     		cmp	r7, #0
 794 0350 00F08980 		beq	.L111
 795              	.LVL87:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 796              		.loc 1 558 9 view .LVU275
 797 0354 09F10102 		add	r2, r9, #1
 798 0358 ABEB0203 		sub	r3, fp, r2
 799 035c 022B     		cmp	r3, #2
 800 035e 71D9     		bls	.L59
 801 0360 082F     		cmp	r7, #8
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 31


 802 0362 6FDD     		ble	.L59
 803 0364 002F     		cmp	r7, #0
 804 0366 CCBF     		ite	gt
 805 0368 3C46     		movgt	r4, r7
 806 036a 0124     		movle	r4, #1
 807 036c 5B46     		mov	r3, fp
 808 036e 4A46     		mov	r2, r9
 809 0370 24F00300 		bic	r0, r4, #3
 810 0374 5844     		add	r0, r0, fp
 811              	.L22:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 812              		.loc 1 558 35 is_stmt 1 discriminator 3 view .LVU276
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 813              		.loc 1 558 44 is_stmt 0 discriminator 3 view .LVU277
 814 0376 52F8041B 		ldr	r1, [r2], #4	@ unaligned
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 815              		.loc 1 558 42 discriminator 3 view .LVU278
 816 037a 43F8041B 		str	r1, [r3], #4	@ unaligned
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 817              		.loc 1 558 30 is_stmt 1 discriminator 3 view .LVU279
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 818              		.loc 1 558 21 discriminator 3 view .LVU280
 819 037e 8342     		cmp	r3, r0
 820 0380 F9D1     		bne	.L22
 821 0382 24F00303 		bic	r3, r4, #3
 822 0386 9C42     		cmp	r4, r3
 823 0388 0BEB0302 		add	r2, fp, r3
 824 038c 09EB0301 		add	r1, r9, r3
 825 0390 0DD0     		beq	.L23
 826              	.LVL88:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 827              		.loc 1 558 35 view .LVU281
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 828              		.loc 1 558 44 is_stmt 0 view .LVU282
 829 0392 19F80300 		ldrb	r0, [r9, r3]	@ zero_extendqisi2
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 830              		.loc 1 558 42 view .LVU283
 831 0396 0BF80300 		strb	r0, [fp, r3]
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 832              		.loc 1 558 30 is_stmt 1 view .LVU284
 833              	.LVL89:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 834              		.loc 1 558 21 view .LVU285
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 835              		.loc 1 558 30 is_stmt 0 view .LVU286
 836 039a 581C     		adds	r0, r3, #1
 837              	.LVL90:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 838              		.loc 1 558 9 view .LVU287
 839 039c 8742     		cmp	r7, r0
 840 039e 06DD     		ble	.L23
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 841              		.loc 1 558 35 is_stmt 1 view .LVU288
 842              	.LVL91:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 843              		.loc 1 558 44 is_stmt 0 view .LVU289
 844 03a0 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 32


 845              	.LVL92:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 846              		.loc 1 558 30 view .LVU290
 847 03a2 0233     		adds	r3, r3, #2
 848              	.LVL93:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 849              		.loc 1 558 9 view .LVU291
 850 03a4 BB42     		cmp	r3, r7
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 851              		.loc 1 558 42 view .LVU292
 852 03a6 5070     		strb	r0, [r2, #1]
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 853              		.loc 1 558 30 is_stmt 1 view .LVU293
 854              	.LVL94:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 855              		.loc 1 558 21 view .LVU294
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 856              		.loc 1 558 9 is_stmt 0 view .LVU295
 857 03a8 01DA     		bge	.L23
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 858              		.loc 1 558 35 is_stmt 1 view .LVU296
 859              	.LVL95:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 860              		.loc 1 558 44 is_stmt 0 view .LVU297
 861 03aa 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 862              	.LVL96:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 863              		.loc 1 558 42 view .LVU298
 864 03ac 9370     		strb	r3, [r2, #2]
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 865              		.loc 1 558 30 is_stmt 1 view .LVU299
 866              	.LVL97:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 867              		.loc 1 558 21 view .LVU300
 868              	.L23:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 869              		.loc 1 558 9 is_stmt 0 view .LVU301
 870 03ae CDF80C80 		str	r8, [sp, #12]
 871              	.L25:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 872              		.loc 1 558 39 view .LVU302
 873 03b2 002F     		cmp	r7, #0
 874 03b4 D8BF     		it	le
 875 03b6 0127     		movle	r7, #1
 448:user/trace/tiny_vsnprintf.c ****   {
 876              		.loc 1 448 55 view .LVU303
 877 03b8 05F1010A 		add	r10, r5, #1
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 878              		.loc 1 558 39 view .LVU304
 879 03bc BB44     		add	fp, fp, r7
 880 03be 2BE6     		b	.L3
 881              	.LVL98:
 882              	.L26:
 883              	.LBB29:
 884              	.LBB17:
  58:user/trace/tiny_vsnprintf.c ****   if (type & SIGN)
 885              		.loc 1 58 3 is_stmt 1 view .LVU305
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 33


  59:user/trace/tiny_vsnprintf.c ****   {
 886              		.loc 1 59 3 view .LVU306
  93:user/trace/tiny_vsnprintf.c **** 
 887              		.loc 1 93 3 view .LVU307
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 888              		.loc 1 95 3 view .LVU308
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 889              		.loc 1 95 6 is_stmt 0 view .LVU309
 890 03c0 71B9     		cbnz	r1, .L112
  96:user/trace/tiny_vsnprintf.c ****   else
 891              		.loc 1 96 5 is_stmt 1 view .LVU310
 892              	.LVL99:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 893              		.loc 1 57 5 is_stmt 0 view .LVU311
 894 03c2 E146     		mov	r9, ip
 895              	.LBE17:
 896              	.LBE29:
 631:user/trace/tiny_vsnprintf.c **** 
 897              		.loc 1 631 11 view .LVU312
 898 03c4 0390     		str	r0, [sp, #12]
 899              	.LBB30:
 900              	.LBB18:
  96:user/trace/tiny_vsnprintf.c ****   else
 901              		.loc 1 96 14 view .LVU313
 902 03c6 8DF81CC0 		strb	ip, [sp, #28]
 106:user/trace/tiny_vsnprintf.c ****   size -= precision;
 903              		.loc 1 106 3 is_stmt 1 view .LVU314
 904              	.LVL100:
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 905              		.loc 1 107 3 view .LVU315
 107:user/trace/tiny_vsnprintf.c ****   if (!(type & (ZEROPAD /* TINY option   | LEFT */))) while (size-- > 0) ASSIGN_STR(' ');
 906              		.loc 1 107 8 is_stmt 0 view .LVU316
 907 03ca 013C     		subs	r4, r4, #1
 908              	.LVL101:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 909              		.loc 1 108 3 is_stmt 1 view .LVU317
 910 03cc 32E7     		b	.L38
 911              	.LVL102:
 912              	.L64:
 108:user/trace/tiny_vsnprintf.c ****   if (sign) ASSIGN_STR(sign);
 913              		.loc 1 108 3 is_stmt 0 view .LVU318
 914 03ce 9346     		mov	fp, r2
 915 03d0 22E6     		b	.L3
 916              	.LVL103:
 917              	.L109:
  63:user/trace/tiny_vsnprintf.c ****       num = -num;
 918              		.loc 1 63 7 is_stmt 1 view .LVU319
  64:user/trace/tiny_vsnprintf.c ****       size--;
 919              		.loc 1 64 7 view .LVU320
  65:user/trace/tiny_vsnprintf.c ****     }
 920              		.loc 1 65 11 is_stmt 0 view .LVU321
 921 03d2 0390     		str	r0, [sp, #12]
  64:user/trace/tiny_vsnprintf.c ****       size--;
 922              		.loc 1 64 11 view .LVU322
 923 03d4 4842     		rsbs	r0, r1, #0
 924              	.LVL104:
  65:user/trace/tiny_vsnprintf.c ****     }
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 34


 925              		.loc 1 65 7 is_stmt 1 view .LVU323
  63:user/trace/tiny_vsnprintf.c ****       num = -num;
 926              		.loc 1 63 12 is_stmt 0 view .LVU324
 927 03d6 2D21     		movs	r1, #45
 928              	.LVL105:
  65:user/trace/tiny_vsnprintf.c ****     }
 929              		.loc 1 65 11 view .LVU325
 930 03d8 5A46     		mov	r2, fp
 931 03da 013C     		subs	r4, r4, #1
 932              	.LVL106:
  93:user/trace/tiny_vsnprintf.c **** 
 933              		.loc 1 93 3 is_stmt 1 view .LVU326
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 934              		.loc 1 95 3 view .LVU327
  63:user/trace/tiny_vsnprintf.c ****       num = -num;
 935              		.loc 1 63 12 is_stmt 0 view .LVU328
 936 03dc 0491     		str	r1, [sp, #16]
 937 03de 68E7     		b	.L34
 938              	.LVL107:
 939              	.L112:
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 940              		.loc 1 50 30 view .LVU329
 941 03e0 2C4A     		ldr	r2, .L113+4
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 942              		.loc 1 57 5 view .LVU330
 943 03e2 E146     		mov	r9, ip
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 944              		.loc 1 95 6 view .LVU331
 945 03e4 1025     		movs	r5, #16
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 946              		.loc 1 50 30 view .LVU332
 947 03e6 1646     		mov	r6, r2
 948 03e8 5EE7     		b	.L55
 949              	.LVL108:
 950              	.L30:
  50:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 951              		.loc 1 50 30 view .LVU333
 952              	.LBE18:
 953              	.LBE30:
 618:user/trace/tiny_vsnprintf.c ****           *str++ = *fmt;
 954              		.loc 1 618 13 view .LVU334
 955 03ea 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 617:user/trace/tiny_vsnprintf.c ****         if (*fmt)
 956              		.loc 1 617 39 is_stmt 1 view .LVU335
 618:user/trace/tiny_vsnprintf.c ****           *str++ = *fmt;
 957              		.loc 1 618 9 view .LVU336
 618:user/trace/tiny_vsnprintf.c ****           *str++ = *fmt;
 958              		.loc 1 618 12 is_stmt 0 view .LVU337
 959 03ec AA46     		mov	r10, r5
 960 03ee 0029     		cmp	r1, #0
 961 03f0 3FF412AE 		beq	.L3
 962              	.LVL109:
 963              	.L29:
 619:user/trace/tiny_vsnprintf.c ****         else
 964              		.loc 1 619 11 is_stmt 1 view .LVU338
 622:user/trace/tiny_vsnprintf.c ****         continue;
 965              		.loc 1 622 9 is_stmt 0 view .LVU339
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 35


 966 03f4 019B     		ldr	r3, [sp, #4]
 967 03f6 029A     		ldr	r2, [sp, #8]
 619:user/trace/tiny_vsnprintf.c ****         else
 968              		.loc 1 619 18 view .LVU340
 969 03f8 0BF8011B 		strb	r1, [fp], #1
 970              	.LVL110:
 622:user/trace/tiny_vsnprintf.c ****         continue;
 971              		.loc 1 622 9 view .LVU341
 972 03fc ABEB0303 		sub	r3, fp, r3
 973 0400 9A42     		cmp	r2, r3
 448:user/trace/tiny_vsnprintf.c ****   {
 974              		.loc 1 448 55 view .LVU342
 975 0402 05F1010A 		add	r10, r5, #1
 976              	.LVL111:
 622:user/trace/tiny_vsnprintf.c ****         continue;
 977              		.loc 1 622 9 is_stmt 1 view .LVU343
 626:user/trace/tiny_vsnprintf.c ****       num = va_arg(args, unsigned long);
 978              		.loc 1 626 5 is_stmt 0 view .LVU344
 979 0406 D8BF     		it	le
 980 0408 0A25     		movle	r5, #10
 622:user/trace/tiny_vsnprintf.c ****         continue;
 981              		.loc 1 622 9 view .LVU345
 982 040a 7FF779AE 		ble	.L31
 983 040e 03E6     		b	.L3
 984              	.LVL112:
 985              	.L57:
 445:user/trace/tiny_vsnprintf.c ****   }
 986              		.loc 1 445 12 view .LVU346
 987 0410 0020     		movs	r0, #0
 988              	.LVL113:
 989              		.loc 1 638 1 view .LVU347
 990 0412 19B0     		add	sp, sp, #100
 991              	.LCFI4:
 992              		.cfi_remember_state
 993              		.cfi_def_cfa_offset 36
 994              		@ sp needed
 995 0414 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 996              	.LVL114:
 997              	.L51:
 998              	.LCFI5:
 999              		.cfi_restore_state
 549:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 1000              		.loc 1 549 9 is_stmt 1 view .LVU348
 549:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 1001              		.loc 1 549 11 is_stmt 0 view .LVU349
 1002 0418 DDF80C80 		ldr	r8, [sp, #12]
 1003              	.LVL115:
 549:user/trace/tiny_vsnprintf.c ****         if (!s) s = "<NULL>";
 1004              		.loc 1 549 11 view .LVU350
 1005 041c 58F8049B 		ldr	r9, [r8], #4
 1006              	.LVL116:
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1007              		.loc 1 550 9 is_stmt 1 view .LVU351
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1008              		.loc 1 550 12 is_stmt 0 view .LVU352
 1009 0420 B9F1000F 		cmp	r9, #0
 1010 0424 24D0     		beq	.L48
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 36


 1011              	.LVL117:
 552:user/trace/tiny_vsnprintf.c **** #else
 1012              		.loc 1 552 9 is_stmt 1 view .LVU353
 552:user/trace/tiny_vsnprintf.c **** #else
 1013              		.loc 1 552 15 is_stmt 0 view .LVU354
 1014 0426 4846     		mov	r0, r9
 1015 0428 FFF7FEFF 		bl	strlen
 1016              	.LVL118:
 552:user/trace/tiny_vsnprintf.c **** #else
 1017              		.loc 1 552 15 view .LVU355
 1018 042c 0746     		mov	r7, r0
 1019              	.LVL119:
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 1020              		.loc 1 557 11 is_stmt 1 view .LVU356
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 1021              		.loc 1 557 17 view .LVU357
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 1022              		.loc 1 557 17 is_stmt 0 view .LVU358
 1023 042e 8EE7     		b	.L19
 1024              	.LVL120:
 1025              	.L18:
 552:user/trace/tiny_vsnprintf.c **** #else
 1026              		.loc 1 552 9 is_stmt 1 view .LVU359
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 1027              		.loc 1 557 11 view .LVU360
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 1028              		.loc 1 557 17 view .LVU361
 557:user/trace/tiny_vsnprintf.c ****         for (i = 0; i < len; ++i) *str++ = *s++;
 1029              		.loc 1 557 17 is_stmt 0 view .LVU362
 1030 0430 062C     		cmp	r4, #6
 1031 0432 1DDD     		ble	.L48
 552:user/trace/tiny_vsnprintf.c **** #else
 1032              		.loc 1 552 13 view .LVU363
 1033 0434 0627     		movs	r7, #6
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1034              		.loc 1 550 19 view .LVU364
 1035 0436 DFF86090 		ldr	r9, .L113+8
 1036 043a 7FE7     		b	.L47
 1037              	.LVL121:
 1038              	.L10:
 448:user/trace/tiny_vsnprintf.c ****   {
 1039              		.loc 1 448 55 view .LVU365
 1040 043c 1025     		movs	r5, #16
 1041              	.LVL122:
 448:user/trace/tiny_vsnprintf.c ****   {
 1042              		.loc 1 448 55 view .LVU366
 1043 043e 0AF1020A 		add	r10, r10, #2
 1044              	.LVL123:
 448:user/trace/tiny_vsnprintf.c ****   {
 1045              		.loc 1 448 55 view .LVU367
 1046 0442 5DE6     		b	.L31
 1047              	.LVL124:
 1048              	.L59:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1049              		.loc 1 558 9 view .LVU368
 1050 0444 CDF80C80 		str	r8, [sp, #12]
 1051              	.L21:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 37


 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1052              		.loc 1 558 9 view .LVU369
 1053 0448 0BF1FF31 		add	r1, fp, #-1
 1054              	.L24:
 1055              	.LVL125:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1056              		.loc 1 558 35 is_stmt 1 view .LVU370
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1057              		.loc 1 558 35 is_stmt 0 view .LVU371
 1058 044c 0B46     		mov	r3, r1
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1059              		.loc 1 558 9 view .LVU372
 1060 044e 0233     		adds	r3, r3, #2
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1061              		.loc 1 558 44 view .LVU373
 1062 0450 12F8010C 		ldrb	r0, [r2, #-1]	@ zero_extendqisi2
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1063              		.loc 1 558 9 view .LVU374
 1064 0454 A3EB0B03 		sub	r3, r3, fp
 1065 0458 BB42     		cmp	r3, r7
 1066 045a 02F10102 		add	r2, r2, #1
 1067              	.LVL126:
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1068              		.loc 1 558 42 view .LVU375
 1069 045e 01F8010F 		strb	r0, [r1, #1]!
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1070              		.loc 1 558 30 is_stmt 1 view .LVU376
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1071              		.loc 1 558 21 view .LVU377
 558:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1072              		.loc 1 558 9 is_stmt 0 view .LVU378
 1073 0462 F3DB     		blt	.L24
 1074 0464 A5E7     		b	.L25
 1075              	.LVL127:
 1076              	.L111:
 448:user/trace/tiny_vsnprintf.c ****   {
 1077              		.loc 1 448 55 view .LVU379
 1078 0466 CDF80C80 		str	r8, [sp, #12]
 1079 046a 05F1010A 		add	r10, r5, #1
 1080 046e D3E5     		b	.L3
 1081              	.LVL128:
 1082              	.L48:
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1083              		.loc 1 550 19 view .LVU380
 1084 0470 0627     		movs	r7, #6
 1085 0472 0A4A     		ldr	r2, .L113+12
 1086 0474 CDF80C80 		str	r8, [sp, #12]
 1087 0478 E6E7     		b	.L21
 1088              	.LVL129:
 1089              	.L102:
 550:user/trace/tiny_vsnprintf.c **** #ifdef TINY_PRINTF
 1090              		.loc 1 550 19 view .LVU381
 1091 047a 1846     		mov	r0, r3
 1092 047c D2E5     		b	.L4
 1093              	.LVL130:
 1094              	.L74:
 1095              	.LBB31:
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 38


 1096              	.LBB19:
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 1097              		.loc 1 57 5 view .LVU382
 1098 047e 044A     		ldr	r2, .L113
 1099 0480 E146     		mov	r9, ip
 1100 0482 1646     		mov	r6, r2
 1101 0484 B2E6     		b	.L33
 1102              	.LVL131:
 1103              	.L110:
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 1104              		.loc 1 95 6 view .LVU383
 1105 0486 024A     		ldr	r2, .L113
  57:user/trace/tiny_vsnprintf.c ****   sign = 0;
 1106              		.loc 1 57 5 view .LVU384
 1107 0488 4FF02009 		mov	r9, #32
  95:user/trace/tiny_vsnprintf.c ****     tmp[i++] = '0';
 1108              		.loc 1 95 6 view .LVU385
 1109 048c 1646     		mov	r6, r2
 1110 048e 0BE7     		b	.L55
 1111              	.L114:
 1112              		.align	2
 1113              	.L113:
 1114 0490 08000000 		.word	.LC1
 1115 0494 30000000 		.word	.LC2
 1116 0498 00000000 		.word	.LC0
 1117 049c 01000000 		.word	.LC0+1
 1118              	.LBE19:
 1119              	.LBE31:
 1120              		.cfi_endproc
 1121              	.LFE2:
 1123              		.text
 1124              	.Letext0:
 1125              		.file 2 "d:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 1126              		.file 3 "<built-in>"
 1127              		.file 4 "d:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
ARM GAS  C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s 			page 39


DEFINED SYMBOLS
                            *ABS*:00000000 tiny_vsnprintf.c
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:18     .rodata.tiny_vsnprintf_like.str1.4:00000000 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:19     .rodata.tiny_vsnprintf_like.str1.4:00000000 .LC0
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:28     .text.tiny_vsnprintf_like:00000000 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:35     .text.tiny_vsnprintf_like:00000000 tiny_vsnprintf_like
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:160    .text.tiny_vsnprintf_like:00000066 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:193    .text.tiny_vsnprintf_like:000000a8 $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:328    .text.tiny_vsnprintf_like:00000138 $d
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:362    .text.tiny_vsnprintf_like:000001bc $t
C:\Users\WENHUA~1\AppData\Local\Temp\ccrrJpoR.s:1114   .text.tiny_vsnprintf_like:00000490 $d

UNDEFINED SYMBOLS
memset
strlen
